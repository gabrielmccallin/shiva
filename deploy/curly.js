var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},curly;!function(t){var e=function(){function t(){}return t.style=function(t,e){var n;n=t.element?t.element:t;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if("number"==typeof o&&o)switch(i){case"x":o=e[i].toString(),o+="px";break;case"y":o=e[i].toString(),o+="px";break;case"height":o=e[i].toString(),o+="px";break;case"width":o=e[i].toString(),o+="px";break;case"backgroundColor":o="rgb("+(e[i]>>16)+","+(e[i]>>8&255)+","+(255&e[i])+")";break;case"color":o="rgb("+(e[i]>>16)+","+(e[i]>>8&255)+","+(255&e[i])+")"}var r=i;switch(i){case"x":r="left";break;case"y":r="top";break;case"alpha":r="opacity"}n.style[r]=o}},t}();t.Properties=e}(curly||(curly={}));var curly;!function(t){var e=function(){function t(t,e,n,i){this._type=t,this._target=e,this._sourceEvent=i,this._data=n}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceEvent",{get:function(){return this._sourceEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this._attributes},set:function(t){this._attributes=t},enumerable:!0,configurable:!0}),t}();t.Event=e;var n=function(){function t(){this._listeners=[]}return t.prototype.hasEventListener=function(t,e){for(var n=!1,i=0;i<this._listeners.length;i++)this._listeners[i].type===t&&this._listeners[i].listener===e&&(n=!0);return n},t.prototype.addEventListener=function(t,e,n,i,o,r){void 0===o&&(o=!1),void 0===r&&(r=void 0),this.hasEventListener(e,n)||this._listeners.push({scope:t,type:e,listener:n,useCapture:o,scopedEventListener:r,attributes:i})},t.prototype.removeEventListener=function(t,e){var n=this._listeners.filter(function(n){return n.type===t&&n.listener.toString()===e.toString()});return this._listeners=this._listeners.filter(function(n){return!(n.type===t&&n.listener.toString()===e.toString())}),n[0]},t.prototype.dispatchEvent=function(t){for(var e=0;e<this._listeners.length;e++)this._listeners[e].type===t.type&&(this._listeners[e].attributes&&(t.attributes=this._listeners[e].attributes),this._listeners[e].listener.call(this._listeners[e].scope,t))},t}();t.EventDispatcher=n}(curly||(curly={}));var curly;!function(t){var e=function(e){function n(t){e.call(this),t?(t.root?(this._element=document.createElement("div"),this._element.style.position="absolute",this._element.style.height="100%",this._element.style.width="100%",this._element.style.top="0px",this._element.style.left="0px",this._element.style.margin="0px",this._element.id="app",document.body.appendChild(this._element)):t.type?this._element=document.createElement(t.type):this._element=document.createElement("div"),t.id&&(this._element.id=t.id),t.text&&(this.innerHtml=t.text),this.style(t.style),this.style(t)):this._element=document.createElement("div")}return __extends(n,e),n.prototype.addToBody=function(){document.body.appendChild(this._element)},n.prototype.style=function(e){t.Properties.style(this._element,e)},n.prototype.className=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];e.map(function(e){t._element.className=e})},n.prototype.addChild=function(t){var e;t.element&&(e=t.element),this._element.appendChild(e)},n.prototype.removeChild=function(t){this._element===t.element.parentNode&&this._element.removeChild(t.element)},n.prototype.to=function(t,e){return TweenLite.to(this._element,t,e)},n.prototype.fromTo=function(t,e,n){return TweenLite.fromTo(this._element,t,e,n)},n.prototype.from=function(t,e){return TweenLite.from(this._element,t,e)},n.prototype.addEventListener=function(n,i,o,r,s){void 0===s&&(s=!1);var l=this,c=function(e){o.apply(n,[new t.Event(i,l,r,e)])};e.prototype.addEventListener.call(this,n,i,o,s,r,c),this._element.addEventListener?this._element.addEventListener(i,c,s):this._element.attachEvent&&(this._element.attachEvent("on"+i,c),this._element.attachEvent("onpropertychange",function(t){t.eventType===i&&(t.cancelBubble=!0,t.returnValue=!1,t.data=t.customData,c(t))}))},n.prototype.removeEventListener=function(t,n){var i=e.prototype.removeEventListener.call(this,t,n);return this._element.removeEventListener?this._element.removeEventListener(t,i.scopedEventListener,i.useCapture):this._element.detachEvent&&this._element.detachEvent("on"+t,n),i},n.prototype.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Object.defineProperty(n.prototype,"width",{get:function(){return this.shadow().width},set:function(e){t.Properties.style(this._element,{width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.shadow().height},set:function(e){t.Properties.style(this._element,{height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._element.offsetTop},set:function(e){t.Properties.style(this._element,{y:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._element.offsetLeft},set:function(e){t.Properties.style(this._element,{x:e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return parseFloat(this._element.style.opacity)},set:function(e){t.Properties.style(this._element,{opacity:e.toString()})},enumerable:!0,configurable:!0}),n.prototype.hide=function(){t.Properties.style(this._element,{display:"none"})},n.prototype.show=function(){t.Properties.style(this._element,{display:"block"})},n.prototype.fillContainer=function(){t.Properties.style(this._element,{minWidth:"100%",minHeight:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"})},n.prototype.centreHorizontal=function(){t.Properties.style(this._element,{display:"block",marginLeft:"auto",marginRight:"auto",position:"relative"})},n.prototype.centreHorizontalText=function(){t.Properties.style(this._element,{textAlign:"center"})},n.prototype.shadow=function(){if(document.body.contains(this._element))return this.dimensionsPolyfill();var t=this._element.parentElement;document.body.appendChild(this._element);var e=this.dimensionsPolyfill();return document.body.removeChild(this._element),t?t.appendChild(this._element):document.body.removeChild(this._element),e},n.prototype.dimensionsPolyfill=function(){var e=this._element.getBoundingClientRect().height,n=this._element.getBoundingClientRect().width;n&&e||(n=this._element.scrollWidth,e=this._element.scrollHeight);var i=new t.Dimensions(n,e);return i},Object.defineProperty(n.prototype,"value",{get:function(){var t=this._element;return t.value},set:function(t){var e=this._element;e.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._element.id},set:function(t){this._element.id=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerHtml",{get:function(){return this._element.innerHTML},set:function(t){this._element.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"href",{get:function(){var t=this._element;return t.href},set:function(t){var e=this._element;e.href=t},enumerable:!0,configurable:!0}),n}(t.EventDispatcher);t.Container=e}(curly||(curly={}));var curly;!function(t){var e=function(t){function e(e){e.type="a",t.call(this,e);var n=this.element;n.href=e.href}return __extends(e,t),e}(t.Container);t.Anchor=e}(curly||(curly={}));var curly;!function(t){var e=function(e){function n(n){var i;i=n.href?"a":"button",n.type&&(i=n.type),e.call(this,{id:n.id,type:i,cursor:"pointer",display:"inline-block"}),this.href=n.href,this.enabled=!0,n.icon&&n.icon.code&&(this.icon=new t.Container({type:"span",text:n.icon.code})),this.update(n)}return __extends(n,e),n.prototype.update=function(e){this.config={};for(var n in t.Styles.button)this.config[n]=t.Styles.button[n];if(e&&e.style)for(var n in e.style)this.config[n]=e.style[n];for(var n in e)this.config[n]=e[n];if(e.style)for(var n in e.style.icon)this.config.icon[n]=e.style.icon[n];this.innerHtml=e.text,this.addEventListener(this,"mouseover",this.overWithEnable),this.addEventListener(this,"mouseout",this.outWithEnable),this.config.icon&&this.config.icon.code&&("left"===this.config.icon.align?this.icon.style({paddingRight:this.config.icon.padding}):this.icon.style({paddingLeft:this.config.icon.padding}),this.icon.style({fontFamily:this.config.icon.fontFamily,fontSize:this.config.icon.fontSize,"float":this.config.icon.align,pointerEvents:"none"}),this.addChild(this.icon)),this.style(this.config)},n.prototype.over=function(){this.to(this.config.durationIn,{backgroundColor:this.config.backgroundColorHover,color:this.config.colorHover})},n.prototype.out=function(){this.to(this.config.durationOut,{backgroundColor:this.config.backgroundColor,color:this.config.color})},n.prototype.click=function(e){if(this.enabled){var i=new t.Event(n.CLICK,this,e);this.dispatchEvent(i)}},n.prototype.disable=function(){this.enabled=!1,this.style({cursor:"default"})},n.prototype.select=function(){this.enabled=!1,this.style({cursor:"default"})},n.prototype.enable=function(){this.enabled=!0,this.style({cursor:"pointer"}),this.out()},Object.defineProperty(n.prototype,"data",{get:function(){return this.config.data},enumerable:!0,configurable:!0}),n.prototype.overWithEnable=function(t){this.enabled&&this.over()},n.prototype.outWithEnable=function(t){this.enabled&&this.out()},n.CLICK="click",n}(t.Container);t.Button=e}(curly||(curly={}));var curly;!function(t){var e=function(t){function e(e){t.call(this,{type:"input"});var n=this.element;n.type="checkbox",e&&(e.id&&(this.id=e.id),this.style(e.style),this.style(e),n.checked=e.checked)}return __extends(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){var t=this.element;return t.checked},enumerable:!0,configurable:!0}),e.CLICK="click",e}(t.Container);t.CheckBox=e}(curly||(curly={}));var curly;!function(t){var e=function(){function t(t,e){this.width=t,this.height=e}return t}();t.Dimensions=e}(curly||(curly={}));var curly;!function(t){var e=function(t){function e(e){e.type="img",t.call(this,e),this.load(e.path)}return __extends(e,t),e.prototype.load=function(t){this.element.setAttribute("src",t)},e}(t.Container);t.Image=e}(curly||(curly={}));var curly;!function(t){var e=function(){function t(){}return t.addEventListener=function(t,e,n){this.observers[e]||(this.observers[e]=[]),console.log("ADDING OBSERVER: ",e),this.observers[e].push({scope:t,type:e,callback:n})},t.removeEventListener=function(t,e){for(var n,i=0;i<this.observers[t].length;i++)if(this.observers[t].callback===e){n=i,console.log("REMOVING OBSERVER: ",t);break}this.observers[t].splice(n,1)},t.dispatchEvent=function(t){var e=t.type;if(this.observers[e])for(var n=0;n<this.observers[e].length;n++)this.observers[e][n].callback.call(this.observers[e][n].scope,t);else console.log("DISPATCH ERROR: NO OBSERVER REGISTERED")},t.observers={},t}();t.Observer=e}(curly||(curly={}));var curly;!function(t){var e=function(t){function e(e){t.call(this,{type:"input"});var n=this.element;n.type="radio",e&&(e.id&&(this.id=e.id),this.style(e.style),this.style(e),n.checked=e.checked)}return __extends(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){var t=this.element;return t.checked},enumerable:!0,configurable:!0}),e.CLICK="click",e}(t.Container);t.RadioButton=e}(curly||(curly={}));var curly;!function(t){var e=function(){function t(){}return t.proportionalOutside=function(t,e,n,i){var o=t/e,r=n,s=n/o;return s<i&&(s=i,r=s*o),{height:s,width:r}},t.proportionalInside=function(t,e,n,i){var o=t/e,r=n,s=n*o;return s>i&&(s=i,r=s*o),{height:s,width:r}},t}();t.Resize=e}(curly||(curly={}));var curly;!function(t){var e=function(){function e(){}return e.layout=function(){t.Window.width>1600&&(document.body.style.fontSize="120%"),t.Window.width<=1600&&t.Window.width>1e3&&(document.body.style.fontSize="110%"),t.Window.width<=1e3&&t.Window.width>780&&(document.body.style.fontSize="100%"),t.Window.width<=780&&t.Window.width>400&&(document.body.style.fontSize="90%"),t.Window.width<=400&&(document.body.style.fontSize="80%")},e}();t.ResponsiveText=e}(curly||(curly={}));var curly;!function(t){var e=function(e){function n(n){var i=this;n.type="select",e.call(this,n);var o=this.element;n.name&&(o.name=n.name);var r=n.options;r.map(function(e){var n=new t.Container({text:e,type:"option"});i.addChild(n)})}return __extends(n,e),Object.defineProperty(n.prototype,"value",{get:function(){var t=this.element;return t.value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){var t=this.element;return t.selectedIndex},enumerable:!0,configurable:!0}),n.CHANGE="change",n}(t.Container);t.Select=e}(curly||(curly={}));var curly;!function(t){var e=function(){function t(){}return t.button={fontSize:"1.2em",fontFamily:"sans-serif",fontWeight:"300",fontColourOver:3355443,fontColourOut:16777215,letterSpacing:"0em",backgroundColor:"#f1f1f1",backgroundColorHover:"#dddddd",cornerRadius:"0.5em",durationOut:1,durationIn:0,padding:"0.5em",textAlign:"left",whiteSpace:"nowrap",msTouchAction:"manipulation",touchAction:"manipulation",cursor:"pointer",webkitUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none",backgroundImage:"none",border:"1px solid transparent",borderColor:"#dddddd",color:"#333333",colorHover:"#ffffff",text:"button"},t.caret={width:"0px",height:"0px",borderLeftWidth:"0.35rem",borderLeftStyle:"solid",borderLeftColor:"transparent",borderRightWidth:"0.35rem",borderRightStyle:"solid",borderRightColor:"transparent",borderTopWidth:"0.35rem",borderTopStyle:"solid",borderTopColor:"black",display:"inline-block",verticalAlign:"middle",marginLeft:"0.35rem"},t.drop={fontFamily:"sans-serif",fontSize:"1.2rem",backgroundColor:"#ffffff",backgroundColorHover:"#cccccc",colorHover:"#000000",color:"#000000",durationIn:0,durationOut:.5,listStyle:"none",zIndex:"1000",position:"absolute",marginTop:"0px",minWidth:"5rem",border:"1px solid rgba(0,0,0,.15)",webkitBoxShadow:"0 6px 12px rgba(0,0,0,.175)",boxShadow:"0px 6px 12px rgba(0,0,0,0.175)",fontWeight:"300",paddingLeft:"0px",durationExpand:"0.5",durationContract:"0.5"},t}();t.Styles=e}(curly||(curly={}));var curly;!function(t){var e=function(e){function n(){e.call(this)}return __extends(n,e),n.prototype.load=function(e,n,i,o,r){var s=this;this.http?this.http.abort():this.http=new XMLHttpRequest,n===t.URLLoader.GET&&(e+=this.concatParams(i)),this.http.open(n,e,!0),this.http.timeout=2e4,o&&o.map(function(t){s.http.setRequestHeader(t.value,t.variable)}),this.http.onreadystatechange=this.handleResponse.bind(this),this.http.send(i)},n.prototype.concatParams=function(t){var e="?";for(var n in t)t.hasOwnProperty(n)&&(e=e.concat(n,"=",encodeURI(t[n]),"&"));return e=e.slice(0,-1)},n.prototype.setRequestHeader=function(t){this.http.setRequestHeader(t.value,t.variable)},n.prototype.handleResponse=function(){if(4===this.http.readyState)if(200===this.http.status){var i=new t.Event(n.COMPLETE,this,this.http.responseText);e.prototype.dispatchEvent.call(this,i),this.http.onreadystatechange=void 0}else{var o=void 0;o=0===this.http.status?"Network Error 0x2ee2":this.http.status.toString();var r=new t.Event(n.ERROR,this,this.http.status);e.prototype.dispatchEvent.call(this,r)}},n.COMPLETE="COMPLETE",n.ERROR="ERROR",n.GET="GET",n.PUT="PUT",n.POST="POST",n.UPDATE="UPDATE",n}(t.EventDispatcher);t.URLLoader=e}(curly||(curly={}));var curly;!function(t){var e=function(){function t(){}return t.scrollY=function(){var t=document.body.scrollTop;return 0==t&&(t=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0),t},t.scrollX=function(){var t=document.body.scrollLeft;return 0==t&&(t=window.pageXOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0),t},Object.defineProperty(t,"height",{get:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t,"width",{get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},enumerable:!0,configurable:!0}),t}();t.Window=e}(curly||(curly={}));var curly;!function(t){var e=function(e){function n(n){var i=this,o="Button";n.text&&(o=n.text),n.text=void 0,n.position="relative",e.call(this,n),this.items=[],this.button=new t.Button({style:t.Styles.button,display:"inline-block",text:"button",type:"div",zIndex:"1001",position:"absolute"}),n.button&&(n.button.text=o,this.button.update(n.button)),this.addChild(this.button);var r=new t.Container({id:"drop-caret",style:t.Styles.caret,pointerEvents:"none"});n.caret&&r.style(n.caret),this.button.addChild(r),this.button.addEventListener(this,"mousedown",this.buttonClicked),this.unorderedList=new t.Container({type:"ul",id:this.id}),this.dropConfig={};for(var s in t.Styles.drop)this.dropConfig[s]=t.Styles.drop[s];for(var s in n.drop)this.dropConfig[s]=n.drop[s];this.unorderedList.style(this.dropConfig),this.addChild(this.unorderedList);var l=0;n.options.map(function(e){var n=new t.Container({id:l.toString(),type:"li"});i.unorderedList.addChild(n);var o=new t.Container({id:l.toString(),type:"a"});o.style({display:"list-item",position:"static",color:i.dropConfig.color,paddingLeft:"0.5em",paddingRight:"0px",paddingBottom:"0.5em",paddingTop:"0.5em",cursor:"pointer"}),i.items.push(n),o.innerHtml=e,o.addEventListener(i,"mouseover",i.itemOver),o.addEventListener(i,"mouseout",i.itemOut),o.addEventListener(i,"mousedown",i.itemClicked),n.addChild(o),l++}),this.unorderedList.style({display:"none"}),this.style(n)}return __extends(n,e),n.prototype.itemClicked=function(e){var i=e.target;this.dispatchEvent(new t.Event(n.CHANGE,this,i.id)),TweenLite.killTweensOf(this.unorderedList.element),this.unorderedList.alpha=1,this.unorderedList.to(this.dropConfig.durationContract,{delay:.3,alpha:0,onComplete:this.hideList,onCompleteScope:this})},n.prototype.itemOver=function(t){var e=t.target;e.to(this.dropConfig.durationIn,{backgroundColor:this.dropConfig.backgroundColorHover,color:this.dropConfig.colorHover})},n.prototype.itemOut=function(t){var e=t.target;e.to(this.dropConfig.durationOut,{backgroundColor:this.dropConfig.backgroundColor,color:this.dropConfig.color})},n.prototype.buttonClicked=function(t){var e=this;TweenLite.killTweensOf(this.unorderedList.element),this.unorderedList.style({display:"block",alpha:0,top:"0px"}),this.unorderedList.to(this.dropConfig.durationExpand,{ease:Strong.easeOut,alpha:1,top:this.button.height}),this.scopedEventHandler=function(t){e.closeDrop(t)},document.body.addEventListener("mousedown",this.scopedEventHandler,!0),this.button.removeEventListener("mousedown",this.buttonClicked)},n.prototype.closeDrop=function(t){var e=this;document.body.removeEventListener("mousedown",this.scopedEventHandler,!0),TweenLite.delayedCall(0,function(){e.button.addEventListener(e,"mousedown",e.buttonClicked)},null,this),this.unorderedList.to(this.dropConfig.durationContract,{alpha:0,onComplete:this.hideList,onCompleteScope:this})},n.prototype.hideList=function(){this.unorderedList.style({display:"none"})},n.prototype.disable=function(){this.button.disable(),this.button.removeEventListener(t.Button.CLICK,this.buttonClicked)},n.prototype.enable=function(){this.button.enable(),this.button.addEventListener(this,t.Button.CLICK,this.buttonClicked)},n.CHANGE="change",n}(t.Container);t.DropDown=e}(curly||(curly={}));var curly;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,{id:e.id}),this.views={},this.currentState="",this.config=e,this.style(e.style),this.style(e)}return __extends(e,t),e.prototype.update=function(t){if(t!==this.currentState)if(this.config.views[t]){this.currentState=t;var e={top:"0px",left:"0px",duration:0},n={top:"0px",left:"0px",duration:0};for(var i in this.config.to)e[i]=this.config.to[i];for(var i in this.config.from)n[i]=this.config.from[i];if(this.currentView&&(n.duration>0?this.currentView.to(n.duration,{left:n.left,top:n.top,alpha:0,onComplete:this.removeView,onCompleteScope:this,onCompleteParams:[this.currentView]}):this.removeChild(this.currentView)),this.views[t]);else{var o=new this.config.views[t];this.views[t]=o}this.currentView=this.views[t],this.currentView.hydrate&&this.currentView.hydrate(),this.addChild(this.currentView),this.currentView.style({alpha:0}),e.duration>0?this.currentView.to(e.duration,{left:e.left,top:e.top,alpha:1,onComplete:function(t){return t.style({display:"block"})},onCompleteParams:[this.currentView]}):this.currentView.style({opacity:"1",display:"block",top:e.top,left:e.left})}else console.log("no view defined called: ",t);else console.log("view already loaded: ",t)},e.prototype.removeView=function(t){this.removeChild(t)},e}(t.Container);e.StateMachine=n}(e=t.stateMachine||(t.stateMachine={}))}(curly||(curly={}));