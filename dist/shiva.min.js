!function(t){function e(){}function n(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?r:s)(e.promise,t._value);var o;try{o=n(t._value)}catch(i){return void s(e.promise,i)}r(e.promise,o)}))}function r(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof o)return t._state=3,t._value=e,void a(t);if("function"==typeof i)return void c(n(i,e),t)}t._state=1,t._value=e,a(t)}catch(r){s(t,r)}}function s(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)i(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,r(e,t))},function(t){n||(n=!0,s(e,t))})}catch(o){if(n)return;n=!0,s(e,o)}}var u=setTimeout;o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,n){var o=new this.constructor(e);return i(this,new l(t,n,o)),o},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function o(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){o(r,t)},n)}e[r]=s,0===--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,r=0;r<e.length;r++)o(r,e[r])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var o=0,i=t.length;o<i;o++)t[o].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){u(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},"undefined"!=typeof module&&module.exports?module.exports=o:t.Promise||(t.Promise=o)}(this),function(){var t,e=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){var e=function(){function t(){}return t.style=function(t,e){var n;n=t.element?t.element:t;for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];if("number"==typeof i&&i)switch(o){case"x":i=e[o].toString(),i+="px";break;case"y":i=e[o].toString(),i+="px";break;case"height":i=e[o].toString(),i+="px";break;case"width":i=e[o].toString(),i+="px";break;case"backgroundColor":i="rgb("+(e[o]>>16)+","+(e[o]>>8&255)+","+(255&e[o])+")";break;case"color":i="rgb("+(e[o]>>16)+","+(e[o]>>8&255)+","+(255&e[o])+")"}var r=o;switch(o){case"x":r="left";break;case"y":r="top";break;case"alpha":r="opacity"}n.style[r]=i}},t}();t.Properties=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,n,o){this._type=t,this._target=e,this._sourceEvent=o,this._data=n}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceEvent",{get:function(){return this._sourceEvent},enumerable:!0,configurable:!0}),t}();t.Event=e;var n=function(){function t(){this._listeners=[]}return t.prototype.hasEventListener=function(t,e){for(var n=!1,o=0;o<this._listeners.length;o++)this._listeners[o].type===t&&this._listeners[o].listener===e&&(n=!0);return n},t.prototype.addEventListener=function(t,e,n,o,i,r){void 0===i&&(i=!1),void 0===r&&(r=void 0),this.hasEventListener(e,n)||this._listeners.push({scope:t,type:e,listener:n,useCapture:i,scopedEventListener:r,data:o})},t.prototype.removeEventListener=function(t,e){var n=this._listeners.filter(function(n){return n.type===t&&n.listener.toString()===e.toString()});return this._listeners=this._listeners.filter(function(n){return!(n.type===t&&n.listener.toString()===e.toString())}),n[0]},t.prototype.dispatchEvent=function(t){for(var e=0;e<this._listeners.length;e++)this._listeners[e].type===t.type&&(this._listeners[e].data&&(t.data=this._listeners[e].data),this._listeners[e].listener.call(this._listeners[e].scope,t))},t}();t.EventDispatcher=n}(t||(t={}));var t;!function(t){var n=function(n){function o(t){var e=this;if(n.call(this),this.transitions={},t)if(t.root?(this._element=document.createElement("div"),this._element.style.position="absolute",this._element.style.height="100%",this._element.style.width="100%",this._element.style.top="0px",this._element.style.left="0px",this._element.style.margin="0px",this._element.id="app",document.body.appendChild(this._element)):t.type?this._element=document.createElement(t.type):this._element=document.createElement("div"),t.id&&(this._element.id=t.id),t.text&&(this.innerHtml=t.text),this._data=t.data,Array.isArray(t.style)){var o=t.style;o.map(function(t){e.style(t)})}else{var i=t.style;this.style(i)}else this._element=document.createElement("div")}return e(o,n),o.prototype.addToBody=function(){document.body.appendChild(this._element)},o.prototype.style=function(e){t.Properties.style(this._element,e)},o.prototype.className=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];e.map(function(e){t._element.className=e})},o.prototype.addChild=function(t){var e;t.element&&(e=t.element),this._element.appendChild(e)},o.prototype.removeChild=function(t){this._element===t.element.parentNode&&this._element.removeChild(t.element)},o.prototype.to=function(e){var n=this,o=10;return e.delay&&(o=1e3*e.delay),setTimeout(function(){for(var t in e.toVars){var o={};e.duration&&(o.duration=e.duration),n.transitions[t]?o.count=n.transitions[t].count+1:o.count=0,n.transitions[t]=o}n.style({transition:n.convertTransitionObjectToString(n.transitions)}),e.ease&&n.style({transitionTimingFunction:e.ease.toString()}),n.style(e.toVars)},o),e.resolve?(setTimeout(function(){n.style({transition:n.removeCompletedTransitionsAndReapply(e.toVars)}),n.dispatchEvent(new t.Event("TRANSITION_COMPLETE",n)),e.resolve()},1e3*e.duration+o),null):new Promise(function(i,r){setTimeout(function(){n.style({transition:n.removeCompletedTransitionsAndReapply(e.toVars)}),i(),n.dispatchEvent(new t.Event("TRANSITION_COMPLETE",n))},1e3*e.duration+o)})},o.prototype.convertTransitionStyleToObject=function(t){var e=this;if(t.transitionProperty){var n=t.transitionProperty.split(","),o=t.transitionDuration.split(","),i=t.transitionDelay.split(","),r={},s=0;return n.map(function(t){var n=t.replace(/^\s/g,"");n=e.hyphenToCamel(n);var a={};o[s].replace(/^\s/g,"");if(o[s]&&(a.duration=o[s].replace(/^\s/g,"").replace("s","")),i[s]){var l=i[s].replace(/^\s/g,"").replace("s","");"initial"!==l&&(a.delay=l)}r[n]=a,s++}),r}return{}},o.prototype.convertTransitionObjectToString=function(t){var e="";for(var n in t){""!==e&&(e+=", ");var o=this.camelToHyphen(n);e+=o+" "+t[n].duration+"s",t[n].delay&&(e+=" "+t[n].delay+"s")}return e},o.prototype.removeCompletedTransitionsAndReapply=function(t){for(var e in t)this.transitions[e]&&(this.transitions[e].count>0?this.transitions[e].count--:delete this.transitions[e]);return this.convertTransitionObjectToString(this.transitions)},o.prototype.fromTo=function(t){var e=this;return t.delay?(t.delay=1e3*t.delay,t.immediateRender&&this.style(t.fromVars)):(this.style(t.fromVars),t.delay=10),new Promise(function(n,o){setTimeout(function(){e.style(t.fromVars),setTimeout(function(){e.to({duration:t.duration,ease:t.ease,toVars:t.toVars,resolve:n})},10)},t.delay)})},o.prototype.camelToHyphen=function(t){return t.replace(/[a-z][A-Z]/g,function(t,e){var n=t.split("");n[2]=n[1],n[1]="-",n[2]=n[2].toLowerCase();var o="";return n.map(function(t){o+=t}),o})},o.prototype.hyphenToCamel=function(t){return t.replace(/-([a-z])/g,function(t,e){return t[1].toUpperCase()})},o.prototype.addEventListener=function(e,o,i,r,s){void 0===s&&(s=!1);var a=this,l=function(n){i.apply(e,[new t.Event(o,a,r,n)])};n.prototype.addEventListener.call(this,e,o,i,r,s,l),this._element.addEventListener?this._element.addEventListener(o,l,s):this._element.attachEvent&&(this._element.attachEvent("on"+o,l),this._element.attachEvent("onpropertychange",function(t){t.eventType===o&&(t.cancelBubble=!0,t.returnValue=!1,t.data=t.customData,l(t))}))},o.prototype.removeEventListener=function(t,e){var o=n.prototype.removeEventListener.call(this,t,e);return this._element.removeEventListener?this._element.removeEventListener(t,o.scopedEventListener,o.useCapture):this._element.detachEvent&&this._element.detachEvent("on"+t,e),o},o.prototype.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Object.defineProperty(o.prototype,"width",{get:function(){return this.shadow().width},set:function(e){t.Properties.style(this._element,{width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.shadow().height},set:function(e){t.Properties.style(this._element,{height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this._element.offsetTop},set:function(e){t.Properties.style(this._element,{y:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"x",{get:function(){return this._element.offsetLeft},set:function(e){t.Properties.style(this._element,{x:e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"alpha",{get:function(){return parseFloat(this._element.style.opacity)},set:function(e){t.Properties.style(this._element,{opacity:e.toString()})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),o.prototype.hide=function(){t.Properties.style(this._element,{display:"none"})},o.prototype.show=function(){t.Properties.style(this._element,{display:"block"})},o.prototype.fillContainer=function(){t.Properties.style(this._element,{minWidth:"100%",minHeight:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"})},o.prototype.centreHorizontal=function(){t.Properties.style(this._element,{display:"block",marginLeft:"auto",marginRight:"auto",position:"relative"})},o.prototype.centreHorizontalText=function(){t.Properties.style(this._element,{textAlign:"center"})},o.prototype.shadow=function(){if(document.body.contains(this._element))return this.dimensionsPolyfill();var t=this._element.parentElement;document.body.appendChild(this._element);var e=this.dimensionsPolyfill();return document.body.removeChild(this._element),t?t.appendChild(this._element):document.body.removeChild(this._element),e},o.prototype.dimensionsPolyfill=function(){var e=this._element.getBoundingClientRect().height,n=this._element.getBoundingClientRect().width;n&&e||(n=this._element.scrollWidth,e=this._element.scrollHeight);var o=new t.Dimensions(n,e);return o},Object.defineProperty(o.prototype,"value",{get:function(){var t=this._element;return t.value},set:function(t){var e=this._element;e.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this._element.id},set:function(t){this._element.id=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"innerHtml",{get:function(){return this._element.innerHTML},set:function(t){this._element.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"href",{get:function(){var t=this._element;return t.href},set:function(t){var e=this._element;e.href=t},enumerable:!0,configurable:!0}),o.TRANSITION_COMPLETE="TRANSITION_COMPLETE",o}(t.EventDispatcher);t.Container=n}(t||(t={}));var t;!function(t){var n=function(t){function n(e){e.type="a",t.call(this,e);var n=this.element;n.href=e.href}return e(n,t),n}(t.Container);t.Anchor=n}(t||(t={}));var t;!function(t){var n=function(n){function o(e){var i,r,s;e&&(e.href?(i="a",s=e.href):i="button",e.type&&(i=e.type),r=e.id),n.call(this,{id:r,type:i,style:{cursor:"pointer"}}),this.href=s,this.enabled=!0,this.config={};for(var a in t.Styles.button)this.config[a]=t.Styles.button[a];if(e)for(var a in e.style)this.config[a]=e.style[a];for(var a in e)this.config[a]=e[a];var l=o.label;e.label&&(l=e.label);var c=document.createTextNode(l);if(this.element.appendChild(c),this.config.icon&&this.config.icon.code){var u=new t.Container({type:"span",style:{display:"inline-block"},text:this.config.icon.code});u.style({fontFamily:t.Styles.button.fontFamily,fontSize:t.Styles.button.fontSize,pointerEvents:"none"}),"left"===this.config.icon.align?(u.style({paddingRight:t.Styles.button.padding}),this.element.removeChild(c),this.addChild(u),this.element.appendChild(c)):(u.style({paddingLeft:t.Styles.button.padding}),this.addChild(u)),u.style(this.config.icon.style)}this.addEventListener(this,"mouseover",this.overWithEnable),this.addEventListener(this,"mouseout",this.outWithEnable),this.style(this.config)}return e(o,n),o.prototype.over=function(){this.to({duration:this.config.durationIn,toVars:{backgroundColor:this.config.backgroundColorHover,color:this.config.colorHover}})},o.prototype.out=function(){this.to({duration:this.config.durationOut,toVars:{backgroundColor:this.config.backgroundColor,color:this.config.color}})},o.prototype.click=function(e){if(this.enabled){var n=new t.Event(o.CLICK,this,e);this.dispatchEvent(n)}},o.prototype.disable=function(){this.enabled=!1,this.style({cursor:"default"})},o.prototype.select=function(){this.enabled=!1,this.style({cursor:"default"})},o.prototype.enable=function(){this.enabled=!0,this.style({cursor:"pointer"}),this.out()},Object.defineProperty(o.prototype,"data",{get:function(){return this.config.data},enumerable:!0,configurable:!0}),o.prototype.overWithEnable=function(t){this.enabled&&this.over()},o.prototype.outWithEnable=function(t){this.enabled&&this.out()},o.CLICK="click",o.label="Button",o}(t.Container);t.Button=n}(t||(t={}));var t;!function(t){var n=function(t){function n(e){t.call(this,{type:"input"});var n=this.element;n.type="checkbox",e&&(e.id&&(this.id=e.id),this.style(e.style),this.style(e),n.checked=e.checked)}return e(n,t),Object.defineProperty(n.prototype,"checked",{get:function(){var t=this.element;return t.checked},enumerable:!0,configurable:!0}),n.CLICK="click",n}(t.Container);t.CheckBox=n}(t||(t={}));var t;!function(t){var e=function(){function t(t,e){this.width=t,this.height=e}return t}();t.Dimensions=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.Linear="linear",t.Ease="ease",t.EaseIn="ease-in",t.EaseOut="ease-out",t.EaseInOut="ease-in-out",t}();t.Ease=e}(t||(t={}));var t;!function(t){var n=function(t){function n(e){var n;n=e.style?e.style:{},n.type="img",t.call(this,n),this.load(e.path)}return e(n,t),n.prototype.load=function(t){this.element.setAttribute("src",t)},n.COMPLETE="load",n.ERROR="error",n}(t.Container);t.Image=n}(t||(t={}));var t;!function(t){var n=function(n){function o(){n.call(this)}return e(o,n),o.prototype.load=function(t){var e=this;this.http?this.http.abort():this.http=new XMLHttpRequest,t.method===o.httpMethods.GET&&(t.url=t.url+this.concatParams(t.params));var n;switch(t.method){case o.httpMethods.GET:n="GET";break;case o.httpMethods.POST:n="POST";break;case o.httpMethods.PUT:n="PUT";break;case o.httpMethods.UPDATE:n="UPDATE";break;default:n="GET"}return this._data=t.data,this.http.open(n,t.url,!0),this.http.timeout=2e4,t.headers&&t.headers.map(function(t){e.http.setRequestHeader(t.value,t.variable)}),this.http.onreadystatechange=this.handleResponse.bind(this),new Promise(function(n,o){e.resolve=n,e.reject=o,e.http.send(t.params)})},o.prototype.concatParams=function(t){var e="?";for(var n in t)t.hasOwnProperty(n)&&(e=e.concat(n,"=",encodeURI(t[n]),"&"));return e=e.slice(0,-1)},o.prototype.setRequestHeader=function(t){this.http.setRequestHeader(t.value,t.variable)},o.prototype.handleResponse=function(){if(4===this.http.readyState)if(200===this.http.status){var e=new t.LoaderEvent(o.COMPLETE,this,this.http.responseText,this.http.status,this.http,this._data);n.prototype.dispatchEvent.call(this,e),this.resolve(e),this.http.onreadystatechange=void 0}else{var i=void 0;i=0===this.http.status?"Network Error 0x2ee7":this.http.statusText;var r=new t.LoaderEvent(o.ERROR,this,i,this.http.status,this.http);n.prototype.dispatchEvent.call(this,r),this.reject({error:i,status:this.http.status})}},o.httpMethods={GET:"GET",PUT:"PUT",POST:"POST",DELETE:"DELETE",UPDATE:"UPDATE"},o.COMPLETE="COMPLETE",o.ERROR="ERROR",o}(t.EventDispatcher);t.Loader=n}(t||(t={}));var t;!function(t){var n=function(t){function n(e,n,o,i,r,s,a){t.call(this,e,n,s,a),this._response=o,this._status=i,this._httpMetaData=r}return e(n,t),Object.defineProperty(n.prototype,"response",{get:function(){return this._response},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpMetaData",{get:function(){return this._httpMetaData},enumerable:!0,configurable:!0}),n}(t.Event);t.LoaderEvent=n}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.addEventListener=function(t,e,n){this.observers[e]||(this.observers[e]=[]),this.observers[e].push({scope:t,type:e,callback:n})},t.removeEventListener=function(t,e){for(var n,o=0;o<this.observers[t].length;o++)if(this.observers[t].callback===e){n=o;break}this.observers[t].splice(n,1)},t.dispatchEvent=function(t){var e=t.type;if(this.observers[e])for(var n=0;n<this.observers[e].length;n++)this.observers[e][n].callback.call(this.observers[e][n].scope,t);else console.log("DISPATCH ERROR: NO OBSERVER REGISTERED")},t.observers={},t}();t.Observer=e}(t||(t={}));var t;!function(t){var n=function(t){function n(e){t.call(this,{id:e.id,style:{position:"relative"}}),this.pages={},this.zIndex=100,this.config=e,this.style(e.style)}return e(n,t),n.prototype.update=function(t){var e=this;if(t!==this.currentPageName){if(this.config.pages[t]){if(clearTimeout(this.delayTimeout),this.currentPageName=t,this.currentPage)if(this.currentPage.sleep&&this.currentPage.sleep(),this.config.delayTransition){var n=this.currentPage;this.delayTimeout=setTimeout(function(){e.removeChild(n)},1e3*this.config.delayTransition)}else this.removeChild(this.currentPage);if(this.pages[t]);else{var o=new this.config.pages[t](t);this.pages[t]=o}this.currentPage=this.pages[t],this.currentPage.wake&&this.currentPage.wake(),this.currentPage.style({position:"absolute",width:"100%",top:"0px",left:"0px"}),this.addChild(this.currentPage)}}else console.log("view already loaded: ")},n}(t.Container);t.Pages=n}(t||(t={}));var t;!function(t){var n=function(t){function n(e){t.call(this,{type:"input"});var n=this.element;n.type="radio",e&&(e.id&&(this.id=e.id),this.style(e.style),this.style(e),n.checked=e.checked)}return e(n,t),Object.defineProperty(n.prototype,"checked",{get:function(){var t=this.element;return t.checked},enumerable:!0,configurable:!0}),n.CLICK="click",n}(t.Container);t.RadioButton=n}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.proportionalOutside=function(t,e,n,o){var i=t/e,r=n,s=n/i;return s<o&&(s=o,r=s*i),{height:s,width:r}},t.proportionalInside=function(t,e,n,o){var i=t/e,r=n,s=n*i;return s>o&&(s=o,r=s*i),{height:s,width:r}},t}();t.Resize=e}(t||(t={}));var t;!function(t){var n=function(n){function o(e){var o=this;e.type="select",n.call(this,e);var i=this.element;e.name&&(i.name=e.name);var r=e.options;r.map(function(e){var n=new t.Container({text:e,type:"option"});o.addChild(n)})}return e(o,n),Object.defineProperty(o.prototype,"value",{get:function(){var t=this.element;return t.value},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectedIndex",{get:function(){var t=this.element;return t.selectedIndex},enumerable:!0,configurable:!0}),o.CHANGE="change",o}(t.Container);t.Select=n}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.button={fontSize:"1.2em",fontFamily:"sans-serif",fontWeight:"300",backgroundColor:"#fefefe",backgroundColorHover:"#dddddd",durationOut:1,durationIn:0,padding:"1rem",textAlign:"left",whiteSpace:"nowrap",msTouchAction:"manipulation",touchAction:"manipulation",cursor:"pointer",webkitUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none",border:"2px solid transparent",borderColor:"#eeeeee",color:"#000000",colorHover:"#000000",text:"Button"},t.drop={fontFamily:"sans-serif",fontSize:"1.2rem",backgroundColor:"#ffffff",backgroundColorHover:"#dddddd",colorHover:"#000000",color:"#000000",durationIn:0,durationOut:.5,fontWeight:"300",padding:"0rem",durationExpand:.5,durationContract:.5,marginTop:"0.3rem",listStyle:"none",zIndex:"1336",position:"absolute",overflow:"hidden",border:"2px solid transparent",borderColor:"#eeeeee",caret:{width:"0px",height:"0px",borderLeftWidth:"0.35rem",borderLeftStyle:"solid",borderLeftColor:"transparent",borderRightWidth:"0.35rem",borderRightStyle:"solid",borderRightColor:"transparent",borderTopWidth:"0.35rem",borderTopStyle:"solid",borderTopColor:"black",display:"inline-block",verticalAlign:"middle",marginLeft:"0.35rem",pointerEvents:"none"},listItem:{padding:"1rem",display:"list-item",cursor:"pointer"}},t}();t.Styles=e}(t||(t={}));var t;!function(t){var e=function(){function t(){this.callback=function(){console.log("not set")}}return t.prototype.then=function(e,n){return this.callback=e,console.log("callback: ",this.callback),new t},t.prototype.execute=function(){this.callback&&this.callback(this.data)},t.prototype.printCallback=function(){return this},t}();t.Transition=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.scrollY=function(){var t=document.body.scrollTop;return 0==t&&(t=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0),t},t.scrollX=function(){var t=document.body.scrollLeft;return 0==t&&(t=window.pageXOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0),t},Object.defineProperty(t,"height",{get:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t,"width",{get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},enumerable:!0,configurable:!0}),t}();t.Window=e}(t||(t={}));var t;!function(t){var n=function(n){function o(e){var o=this;e.id=e.id||"drop-down";var i={};for(var r in e.style)i[r]=e.style[r];delete e.style,n.call(this,e),this.items=[];var s=t.Button.label;i&&i.button&&(s=i.button.label),e.label&&(s=e.label);var a={};for(var r in t.Styles.button)a[r]=t.Styles.button[r];for(var r in i)a[r]=i[r];if(i)for(var r in i.button)a[r]=i.button[r];this.button=new t.Button({style:a,zIndex:"1337",label:s}),this.addChild(this.button);var l={};for(var r in t.Styles.drop.caret)l[r]=t.Styles.drop.caret[r];if(i){l.borderTopColor=i.color;for(var r in i.caret)l[r]=i.caret[r]}this.caret=new t.Container({id:"drop-caret",style:l}),this.button.addChild(this.caret),this.button.addEventListener(this,"mousedown",this.buttonClicked),this.button.addEventListener(this,"mouseover",this.buttonOver),this.button.addEventListener(this,"mouseout",this.buttonOut),this.dropConfig={};for(var r in t.Styles.drop)this.dropConfig[r]=t.Styles.drop[r];for(var r in i)this.dropConfig[r]=i[r];if(i)for(var r in i.drop)this.dropConfig[r]=i.drop[r];this.unorderedList=new t.Container({type:"ul",style:this.dropConfig}),this.unorderedList.style({padding:"0rem"}),this.addChild(this.unorderedList);var c=0;e.options.map(function(e){var n=new t.Container({id:c.toString(),type:"li"});o.unorderedList.addChild(n);var r={};for(var s in t.Styles.drop.listItem)r[s]=t.Styles.drop.listItem[s];if(i){r.padding=i.padding,r.paddingLeft=i.paddingLeft,r.paddingRight=i.paddingRight,r.paddingTop=i.paddingTop,r.paddingBottom=i.paddingBottom;for(var s in i.item)r[s]=i.item[s]}var a=new t.Container({id:c.toString(),type:"a",style:r});o.items.push(n),a.innerHtml=e,a.addEventListener(o,"mouseover",o.itemOver),a.addEventListener(o,"mouseout",o.itemOut),a.addEventListener(o,"mousedown",o.itemClicked),n.addChild(a),c++}),this.unorderedList.style({display:"none"}),this.style({position:"relative"})}return e(o,n),o.prototype.buttonOver=function(t){this.caret.to({duration:this.dropConfig.durationIn,toVars:{borderTopColor:this.dropConfig.colorHover}})},o.prototype.buttonOut=function(t){this.caret.to({duration:this.dropConfig.durationOut,toVars:{borderTopColor:this.dropConfig.color}})},o.prototype.itemClicked=function(e){var n=this,i=e.target;this.dispatchEvent(new t.Event(o.CHANGE,this,i.id)),this.unorderedList.style({opacity:"1"}),this.unorderedList.to({duration:this.dropConfig.durationContract,delay:.3,toVars:{opacity:"0"}}).then(function(){n.unorderedList.style({display:"none"})})},o.prototype.itemOver=function(t){var e=t.target;e.to({duration:this.dropConfig.durationIn,toVars:{backgroundColor:this.dropConfig.backgroundColorHover,color:this.dropConfig.colorHover}})},o.prototype.itemOut=function(t){var e=t.target;e.to({duration:this.dropConfig.durationOut,toVars:{backgroundColor:this.dropConfig.backgroundColor,color:this.dropConfig.color}})},o.prototype.buttonClicked=function(t){var e=this;this.unorderedList.style({display:"block"}),this.unorderedList.fromTo({duration:this.dropConfig.durationExpand,immediateRender:!0,fromVars:{opacity:"0",transform:"translateY(-10px)"},toVars:{opacity:"1",transform:"translateY(0px)"}}),this.scopedEventHandler=function(t){e.closeDrop(t)},document.addEventListener("mousedown",this.scopedEventHandler,!0),this.button.removeEventListener("mousedown",this.buttonClicked)},o.prototype.closeDrop=function(t){var e=this;document.removeEventListener("mousedown",this.scopedEventHandler,!0),setTimeout(function(){e.button.addEventListener(e,"mousedown",e.buttonClicked)},10),this.unorderedList.to({duration:this.dropConfig.durationContract,toVars:{opacity:"0"}}).then(function(){e.unorderedList.style({display:"none"})})},o.prototype.disable=function(){this.button.disable(),this.button.removeEventListener(t.Button.CLICK,this.buttonClicked)},o.prototype.enable=function(){this.button.enable(),this.button.addEventListener(this,t.Button.CLICK,this.buttonClicked)},o.CHANGE="change",o}(t.Container);t.DropDown=n}(t||(t={}));var n="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")(),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof module&&module&&!module.nodeType&&module,a=s&&s.exports===r;a&&n.process;"function"==typeof define&&"object"==typeof define.amd&&define.amd?(i.shiva=t,define(function(){return t})):s?((s.exports=t).shiva=t,r.shiva=t):i.shiva=t}.call(this);