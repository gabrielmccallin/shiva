!function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";function i(){}function o(t){try{return t.then}catch(e){return v=e,m}}function r(t,e){try{return t(e)}catch(n){return v=n,m}}function s(t,e,n){try{t(e,n)}catch(i){return v=i,m}}function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],t!==i&&f(t,this)}function c(t,e,n){return new t.constructor(function(o,r){var s=new a(i);s.then(o,r),u(t,new d(e,n,s))})}function u(t,e){for(;3===t._37;)t=t._12;return 0===t._37?void t._59.push(e):void y(function(){var n=1===t._37?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._37?l(e.promise,t._12):h(e.promise,t._12));var i=r(n,t._12);i===m?h(e.promise,v):l(e.promise,i)})}function l(t,e){if(e===t)return h(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=o(e);if(n===m)return h(t,v);if(n===t.then&&e instanceof a)return t._37=3,t._12=e,void p(t);if("function"==typeof n)return void f(n.bind(e),t)}t._37=1,t._12=e,p(t)}function h(t,e){t._37=2,t._12=e,p(t)}function p(t){for(var e=0;e<t._59.length;e++)u(t,t._59[e]);t._59=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1,i=s(t,function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,h(e,t))});n||i!==m||(n=!0,h(e,v))}var y=t("asap/raw"),v=null,m={};e.exports=a,a._99=i,a.prototype.then=function(t,e){if(this.constructor!==a)return c(this,t,e);var n=new a(i);return u(this,new d(t,e,n)),n}},{"asap/raw":4}],2:[function(t,e,n){"use strict";function i(t){var e=new o(o._99);return e._37=1,e._12=t,e}var o=t("./core.js");e.exports=o;var r=i(!0),s=i(!1),a=i(null),c=i(void 0),u=i(0),l=i("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return a;if(void 0===t)return c;if(t===!0)return r;if(t===!1)return s;if(0===t)return u;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new o(e.bind(t))}catch(n){return new o(function(t,e){e(n)})}return i(t)},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function i(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof o&&a.then===o.prototype.then){for(;3===a._37;)a=a._12;return 1===a._37?i(s,a._12):(2===a._37&&n(a._12),void a.then(function(t){i(s,t)},n))}var c=a.then;if("function"==typeof c){var u=new o(c.bind(a));return void u.then(function(t){i(s,t)},n)}}e[s]=a,0===--r&&t(e)}if(0===e.length)return t([]);for(var r=e.length,s=0;s<e.length;s++)i(s,e[s])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":1}],3:[function(t,e,n){"use strict";function i(){if(c.length)throw c.shift()}function o(t){var e;e=a.length?a.pop():new r,e.task=t,s(e)}function r(){this.task=null}var s=t("./raw"),a=[],c=[],u=s.makeRequestCallFromTimer(i);e.exports=o,r.prototype.call=function(){try{this.task.call()}catch(t){o.onerror?o.onerror(t):(c.push(t),u())}finally{this.task=null,a[a.length]=this}}},{"./raw":4}],4:[function(t,e,n){(function(t){"use strict";function n(t){a.length||(s(),c=!0),a[a.length]=t}function i(){for(;u<a.length;){var t=u;if(u+=1,a[t].call(),u>l){for(var e=0,n=a.length-u;e<n;e++)a[e]=a[e+u];a.length-=u,u=0}}a.length=0,u=0,c=!1}function o(t){var e=1,n=new h(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}e.exports=n;var s,a=[],c=!1,u=0,l=1024,h=t.MutationObserver||t.WebKitMutationObserver;s="function"==typeof h?o(i):r(i),n.requestFlush=s,n.makeRequestCallFromTimer=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){setTimeout(function(){throw t},0)})})},{}],6:[function(t,e,n){t("asap");"undefined"==typeof Promise&&(Promise=t("./lib/core.js"),t("./lib/es6-extensions.js")),t("./polyfill-done.js")},{"./lib/core.js":1,"./lib/es6-extensions.js":2,"./polyfill-done.js":5,asap:3}]},{},[6]),function(){var t,e=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){var e=function(){function t(){}return t.style=function(t,e){var n;n=t.element?t.element:t;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if("number"==typeof o&&o)switch(i){case"x":o=e[i].toString(),o+="px";break;case"y":o=e[i].toString(),o+="px";break;case"height":o=e[i].toString(),o+="px";break;case"width":o=e[i].toString(),o+="px";break;case"backgroundColor":o="rgb("+(e[i]>>16)+","+(e[i]>>8&255)+","+(255&e[i])+")";break;case"color":o="rgb("+(e[i]>>16)+","+(e[i]>>8&255)+","+(255&e[i])+")"}var r=i;switch(i){case"x":r="left";break;case"y":r="top";break;case"alpha":r="opacity"}n.style[r]=o}},t}();t.Properties=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,n,i){this._type=t,this._target=e,this._sourceEvent=i,this._data=n}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceEvent",{get:function(){return this._sourceEvent},enumerable:!0,configurable:!0}),t}();t.Event=e;var n=function(){function t(){this._listeners=[]}return t.prototype.hasEventListener=function(t,e){for(var n=!1,i=0;i<this._listeners.length;i++)this._listeners[i].type===t&&this._listeners[i].listener===e&&(n=!0);return n},t.prototype.addEventListener=function(t,e,n,i,o,r){void 0===o&&(o=!1),void 0===r&&(r=void 0),this.hasEventListener(e,n)||this._listeners.push({scope:t,type:e,listener:n,useCapture:o,scopedEventListener:r,data:i})},t.prototype.removeEventListener=function(t,e){var n=this._listeners.filter(function(n){return n.type===t&&n.listener.toString()===e.toString()});return this._listeners=this._listeners.filter(function(n){return!(n.type===t&&n.listener.toString()===e.toString())}),n[0]},t.prototype.dispatchEvent=function(t){for(var e=0;e<this._listeners.length;e++)this._listeners[e].type===t.type&&(this._listeners[e].data&&(t.data=this._listeners[e].data),this._listeners[e].listener.call(this._listeners[e].scope,t))},t}();t.EventDispatcher=n}(t||(t={}));var t;!function(t){var n=function(n){function i(t){n.call(this),this.transitions={},t?(t.root?(this._element=document.createElement("div"),this._element.style.position="absolute",this._element.style.height="100%",this._element.style.width="100%",this._element.style.top="0px",this._element.style.left="0px",this._element.style.margin="0px",this._element.id="app",document.body.appendChild(this._element)):t.type?this._element=document.createElement(t.type):this._element=document.createElement("div"),t.id&&(this._element.id=t.id),t.text&&(this.innerHtml=t.text),this.style(t.style),this.style(t)):this._element=document.createElement("div")}return e(i,n),i.prototype.addToBody=function(){document.body.appendChild(this._element)},i.prototype.style=function(e){t.Properties.style(this._element,e)},i.prototype.className=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];e.map(function(e){t._element.className=e})},i.prototype.addChild=function(t){var e;t.element&&(e=t.element),this._element.appendChild(e)},i.prototype.removeChild=function(t){this._element===t.element.parentNode&&this._element.removeChild(t.element)},i.prototype.to=function(e){var n=this,i=10;return e.delay&&(i=1e3*e.delay),setTimeout(function(){for(var t in e.toVars){var i={};e.duration&&(i.duration=e.duration),e.delay,n.transitions[t]?i.count=n.transitions[t].count+1:i.count=0,n.transitions[t]=i}n.style({transition:n.convertTransitionObjectToString(n.transitions)}),e.ease&&n.style({transitionTimingFunction:e.ease.toString()}),n.style(e.toVars)},i),e.resolve?(setTimeout(function(){n.style({transition:n.removeCompletedTransitionsAndReapply(e.toVars)}),n.dispatchEvent(new t.Event("TRANSITION_COMPLETE",n)),e.resolve()},1e3*e.duration+i),null):new Promise(function(o,r){setTimeout(function(){n.style({transition:n.removeCompletedTransitionsAndReapply(e.toVars)}),o(),n.dispatchEvent(new t.Event("TRANSITION_COMPLETE",n))},1e3*e.duration+i)})},i.prototype.convertTransitionStyleToObject=function(t){var e=this;if(t.transitionProperty){var n=t.transitionProperty.split(","),i=t.transitionDuration.split(","),o=t.transitionDelay.split(","),r={},s=0;return n.map(function(t){var n=t.replace(/^\s/g,"");n=e.hyphenToCamel(n);var a={};i[s].replace(/^\s/g,"");if(i[s]&&(a.duration=i[s].replace(/^\s/g,"").replace("s","")),o[s]){var c=o[s].replace(/^\s/g,"").replace("s","");"initial"!==c&&(a.delay=c)}r[n]=a,s++}),r}return{}},i.prototype.convertTransitionObjectToString=function(t){var e="";for(var n in t){""!==e&&(e+=", ");var i=this.camelToHyphen(n);e+=i+" "+t[n].duration+"s",t[n].delay&&(e+=" "+t[n].delay+"s")}return e},i.prototype.removeCompletedTransitionsAndReapply=function(t){for(var e in t)this.transitions[e]&&(this.transitions[e].count>0?this.transitions[e].count--:delete this.transitions[e]);return this.convertTransitionObjectToString(this.transitions)},i.prototype.fromTo=function(t){var e=this;return t.delay?t.delay=1e3*t.delay:(this.style(t.fromVars),t.delay=10),new Promise(function(n,i){setTimeout(function(){e.style(t.fromVars),setTimeout(function(){e.to({duration:t.duration,ease:t.ease,toVars:t.toVars,resolve:n})},10)},t.delay)})},i.prototype.camelToHyphen=function(t){return t.replace(/[a-z][A-Z]/g,function(t,e){var n=t.split("");n[2]=n[1],n[1]="-",n[2]=n[2].toLowerCase();var i="";return n.map(function(t){i+=t}),i})},i.prototype.hyphenToCamel=function(t){return t.replace(/-([a-z])/g,function(t,e){return t[1].toUpperCase()})},i.prototype.addEventListener=function(e,i,o,r,s){void 0===s&&(s=!1);var a=this,c=function(n){o.apply(e,[new t.Event(i,a,r,n)])};n.prototype.addEventListener.call(this,e,i,o,r,s,c),this._element.addEventListener?this._element.addEventListener(i,c,s):this._element.attachEvent&&(this._element.attachEvent("on"+i,c),this._element.attachEvent("onpropertychange",function(t){t.eventType===i&&(t.cancelBubble=!0,t.returnValue=!1,t.data=t.customData,c(t))}))},i.prototype.removeEventListener=function(t,e){var i=n.prototype.removeEventListener.call(this,t,e);return this._element.removeEventListener?this._element.removeEventListener(t,i.scopedEventListener,i.useCapture):this._element.detachEvent&&this._element.detachEvent("on"+t,e),i},i.prototype.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Object.defineProperty(i.prototype,"width",{get:function(){return this.shadow().width},set:function(e){t.Properties.style(this._element,{width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.shadow().height},set:function(e){t.Properties.style(this._element,{height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._element.offsetTop},set:function(e){t.Properties.style(this._element,{y:e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this._element.offsetLeft},set:function(e){t.Properties.style(this._element,{x:e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return parseFloat(this._element.style.opacity)},set:function(e){t.Properties.style(this._element,{opacity:e.toString()})},enumerable:!0,configurable:!0}),i.prototype.hide=function(){t.Properties.style(this._element,{display:"none"})},i.prototype.show=function(){t.Properties.style(this._element,{display:"block"})},i.prototype.fillContainer=function(){t.Properties.style(this._element,{minWidth:"100%",minHeight:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"})},i.prototype.centreHorizontal=function(){t.Properties.style(this._element,{display:"block",marginLeft:"auto",marginRight:"auto",position:"relative"})},i.prototype.centreHorizontalText=function(){t.Properties.style(this._element,{textAlign:"center"})},i.prototype.shadow=function(){if(document.body.contains(this._element))return this.dimensionsPolyfill();var t=this._element.parentElement;document.body.appendChild(this._element);var e=this.dimensionsPolyfill();return document.body.removeChild(this._element),t?t.appendChild(this._element):document.body.removeChild(this._element),e},i.prototype.dimensionsPolyfill=function(){var e=this._element.getBoundingClientRect().height,n=this._element.getBoundingClientRect().width;n&&e||(n=this._element.scrollWidth,e=this._element.scrollHeight);var i=new t.Dimensions(n,e);return i},Object.defineProperty(i.prototype,"value",{get:function(){var t=this._element;return t.value},set:function(t){var e=this._element;e.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._element.id},set:function(t){this._element.id=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerHtml",{get:function(){return this._element.innerHTML},set:function(t){this._element.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"href",{get:function(){var t=this._element;return t.href},set:function(t){var e=this._element;e.href=t},enumerable:!0,configurable:!0}),i.TRANSITION_COMPLETE="TRANSITION_COMPLETE",i}(t.EventDispatcher);t.Container=n}(t||(t={}));var t;!function(t){var n=function(t){function n(e){e.type="a",t.call(this,e);var n=this.element;n.href=e.href}return e(n,t),n}(t.Container);t.Anchor=n}(t||(t={}));var t;!function(t){var n=function(n){function i(e){var i;i=e.href?"a":"button",e.type&&(i=e.type),n.call(this,{id:e.id,type:i,cursor:"pointer",display:"inline-block"}),this.href=e.href,this.enabled=!0,e.icon&&e.icon.code&&(this.icon=new t.Container({type:"span",text:e.icon.code})),this.update(e)}return e(i,n),i.prototype.update=function(e){this.config={};for(var n in t.Styles.button)this.config[n]=t.Styles.button[n];if(e&&e.style)for(var n in e.style)this.config[n]=e.style[n];for(var n in e)this.config[n]=e[n];if(e.style)for(var n in e.style.icon)this.config.icon[n]=e.style.icon[n];this.innerHtml=e.text,this.addEventListener(this,"mouseover",this.overWithEnable),this.addEventListener(this,"mouseout",this.outWithEnable),this.config.icon&&this.config.icon.code&&("left"===this.config.icon.align?this.icon.style({paddingRight:this.config.icon.padding}):this.icon.style({paddingLeft:this.config.icon.padding}),this.icon.style({fontFamily:this.config.icon.fontFamily,fontSize:this.config.icon.fontSize,"float":this.config.icon.align,pointerEvents:"none"}),this.addChild(this.icon)),this.style(this.config)},i.prototype.over=function(){this.to({duration:this.config.durationIn,toVars:{backgroundColor:this.config.backgroundColorHover,color:this.config.colorHover}})},i.prototype.out=function(){this.to({duration:this.config.durationOut,toVars:{backgroundColor:this.config.backgroundColor,color:this.config.color}})},i.prototype.click=function(e){if(this.enabled){var n=new t.Event(i.CLICK,this,e);this.dispatchEvent(n)}},i.prototype.disable=function(){this.enabled=!1,this.style({cursor:"default"})},i.prototype.select=function(){this.enabled=!1,this.style({cursor:"default"})},i.prototype.enable=function(){this.enabled=!0,this.style({cursor:"pointer"}),this.out()},Object.defineProperty(i.prototype,"data",{get:function(){return this.config.data},enumerable:!0,configurable:!0}),i.prototype.overWithEnable=function(t){this.enabled&&this.over()},i.prototype.outWithEnable=function(t){this.enabled&&this.out()},i.CLICK="click",i}(t.Container);t.Button=n}(t||(t={}));var t;!function(t){var n=function(t){function n(e){t.call(this,{type:"input"});var n=this.element;n.type="checkbox",e&&(e.id&&(this.id=e.id),this.style(e.style),this.style(e),n.checked=e.checked)}return e(n,t),Object.defineProperty(n.prototype,"checked",{get:function(){var t=this.element;return t.checked},enumerable:!0,configurable:!0}),n.CLICK="click",n}(t.Container);t.CheckBox=n}(t||(t={}));var t;!function(t){var e=function(){function t(t,e){this.width=t,this.height=e}return t}();t.Dimensions=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.Linear="linear",t.Ease="ease",t.EaseIn="ease-in",t.EaseOut="ease-out",t.EaseInOut="ease-in-out",t}();t.Ease=e}(t||(t={}));var t;!function(t){var n=function(t){function n(e){var n;n=e.style?e.style:{},n.type="img",t.call(this,n),this.load(e.path)}return e(n,t),n.prototype.load=function(t){this.element.setAttribute("src",t)},n.COMPLETE="load",n.ERROR="error",n}(t.Container);t.Image=n}(t||(t={}));var t;!function(t){var n=function(n){function i(){n.call(this)}return e(i,n),i.prototype.load=function(e,n,i,o,r){var s=this;return this.http?this.http.abort():this.http=new XMLHttpRequest,n===t.Loader.GET&&(e+=this.concatParams(i)),this.http.open(n,e,!0),this.http.timeout=2e4,o&&o.map(function(t){s.http.setRequestHeader(t.value,t.variable)}),this.http.onreadystatechange=this.handleResponse.bind(this),new Promise(function(t,e){s.resolve=t,s.reject=e,s.http.send(i)})},i.prototype.concatParams=function(t){var e="?";for(var n in t)t.hasOwnProperty(n)&&(e=e.concat(n,"=",encodeURI(t[n]),"&"));return e=e.slice(0,-1)},i.prototype.setRequestHeader=function(t){this.http.setRequestHeader(t.value,t.variable)},i.prototype.handleResponse=function(){if(4===this.http.readyState)if(200===this.http.status){var e=new t.LoaderEvent(i.COMPLETE,this,this.http.responseText,this.http.status,this.http);n.prototype.dispatchEvent.call(this,e),this.resolve(this.http.responseText),this.http.onreadystatechange=void 0}else{var o=void 0;o=0===this.http.status?"Network Error 0x2ee7":this.http.statusText;var r=new t.LoaderEvent(i.ERROR,this,o,this.http.status,this.http);n.prototype.dispatchEvent.call(this,r),this.reject({error:o,status:this.http.status})}},i.COMPLETE="COMPLETE",i.ERROR="ERROR",i.GET="GET",i.PUT="PUT",i.POST="POST",i.UPDATE="UPDATE",i}(t.EventDispatcher);t.Loader=n}(t||(t={}));var t;!function(t){var n=function(t){function n(e,n,i,o,r,s,a){t.call(this,e,n,s,a),this._response=i,this._status=o,this._httpMetaData=r}return e(n,t),Object.defineProperty(n.prototype,"response",{get:function(){return this._response},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpMetaData",{get:function(){return this._httpMetaData},enumerable:!0,configurable:!0}),n}(t.Event);t.LoaderEvent=n}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.addEventListener=function(t,e,n){this.observers[e]||(this.observers[e]=[]),this.observers[e].push({scope:t,type:e,callback:n})},t.removeEventListener=function(t,e){for(var n,i=0;i<this.observers[t].length;i++)if(this.observers[t].callback===e){n=i;break}this.observers[t].splice(n,1)},t.dispatchEvent=function(t){var e=t.type;if(this.observers[e])for(var n=0;n<this.observers[e].length;n++)this.observers[e][n].callback.call(this.observers[e][n].scope,t);else console.log("DISPATCH ERROR: NO OBSERVER REGISTERED")},t.observers={},t}();t.Observer=e}(t||(t={}));var t;!function(t){var n=function(t){function n(e){t.call(this,{type:"input"});var n=this.element;n.type="radio",e&&(e.id&&(this.id=e.id),this.style(e.style),this.style(e),n.checked=e.checked)}return e(n,t),Object.defineProperty(n.prototype,"checked",{get:function(){var t=this.element;return t.checked},enumerable:!0,configurable:!0}),n.CLICK="click",n}(t.Container);t.RadioButton=n}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.proportionalOutside=function(t,e,n,i){var o=t/e,r=n,s=n/o;return s<i&&(s=i,r=s*o),{height:s,width:r}},t.proportionalInside=function(t,e,n,i){var o=t/e,r=n,s=n*o;return s>i&&(s=i,r=s*o),{height:s,width:r}},t}();t.Resize=e}(t||(t={}));var t;!function(t){var n=function(n){function i(e){var i=this;e.type="select",n.call(this,e);var o=this.element;e.name&&(o.name=e.name);var r=e.options;r.map(function(e){var n=new t.Container({text:e,type:"option"});i.addChild(n)})}return e(i,n),Object.defineProperty(i.prototype,"value",{get:function(){var t=this.element;return t.value},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){var t=this.element;return t.selectedIndex},enumerable:!0,configurable:!0}),i.CHANGE="change",i}(t.Container);t.Select=n}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.button={fontSize:"1.2em",fontFamily:"sans-serif",fontWeight:"300",fontColourOver:3355443,fontColourOut:16777215,letterSpacing:"0em",backgroundColor:"#f1f1f1",backgroundColorHover:"#dddddd",cornerRadius:"0.5em",durationOut:1,durationIn:0,padding:"0.5em",textAlign:"left",whiteSpace:"nowrap",msTouchAction:"manipulation",touchAction:"manipulation",cursor:"pointer",webkitUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none",backgroundImage:"none",border:"1px solid transparent",borderColor:"#dddddd",color:"#333333",colorHover:"#ffffff",text:"button"},t.caret={width:"0px",height:"0px",borderLeftWidth:"0.35rem",borderLeftStyle:"solid",borderLeftColor:"transparent",borderRightWidth:"0.35rem",borderRightStyle:"solid",borderRightColor:"transparent",borderTopWidth:"0.35rem",borderTopStyle:"solid",borderTopColor:"black",display:"inline-block",verticalAlign:"middle",marginLeft:"0.35rem"},t.drop={fontFamily:"sans-serif",fontSize:"1.2rem",backgroundColor:"#ffffff",backgroundColorHover:"#cccccc",colorHover:"#000000",color:"#000000",durationIn:0,durationOut:.5,listStyle:"none",zIndex:"1000",position:"absolute",marginTop:"0px",minWidth:"5rem",border:"1px solid rgba(0,0,0,.15)",webkitBoxShadow:"0 6px 12px rgba(0,0,0,.175)",boxShadow:"0px 6px 12px rgba(0,0,0,0.175)",fontWeight:"300",paddingLeft:"0px",durationExpand:"0.5",durationContract:"0.5"},t}();t.Styles=e}(t||(t={}));var t;!function(t){var e=function(){function t(){this.callback=function(){console.log("not set")}}return t.prototype.then=function(e,n){return this.callback=e,console.log("callback: ",this.callback),new t},t.prototype.execute=function(){this.callback&&this.callback(this.data)},t.prototype.printCallback=function(){return this},t}();t.Transition=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.scrollY=function(){var t=document.body.scrollTop;return 0==t&&(t=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0),t},t.scrollX=function(){var t=document.body.scrollLeft;return 0==t&&(t=window.pageXOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0),t},Object.defineProperty(t,"height",{get:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t,"width",{get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},enumerable:!0,configurable:!0}),t}();t.Window=e}(t||(t={}));var t;!function(t){var n=function(n){function i(e){var i=this,o="Button";e.text&&(o=e.text),e.text=void 0,e.position="relative",n.call(this,e),this.items=[],this.button=new t.Button({style:t.Styles.button,display:"inline-block",text:"button",type:"div",zIndex:"1001",position:"absolute"}),e.button&&(e.button.text=o,this.button.update(e.button)),this.addChild(this.button);var r=new t.Container({id:"drop-caret",style:t.Styles.caret,pointerEvents:"none"});e.caret&&r.style(e.caret),this.button.addChild(r),this.button.addEventListener(this,"mousedown",this.buttonClicked),this.unorderedList=new t.Container({type:"ul",id:this.id}),this.dropConfig={};for(var s in t.Styles.drop)this.dropConfig[s]=t.Styles.drop[s];for(var s in e.drop)this.dropConfig[s]=e.drop[s];this.unorderedList.style(this.dropConfig),this.addChild(this.unorderedList);var a=0;e.options.map(function(e){var n=new t.Container({id:a.toString(),type:"li"});i.unorderedList.addChild(n);var o=new t.Container({id:a.toString(),type:"a"});o.style({display:"list-item",position:"static",color:i.dropConfig.color,paddingLeft:"0.5em",paddingRight:"0px",paddingBottom:"0.5em",paddingTop:"0.5em",cursor:"pointer"}),i.items.push(n),o.innerHtml=e,o.addEventListener(i,"mouseover",i.itemOver),o.addEventListener(i,"mouseout",i.itemOut),o.addEventListener(i,"mousedown",i.itemClicked),n.addChild(o),a++}),this.unorderedList.style({display:"none"}),this.style(e)}return e(i,n),i.prototype.itemClicked=function(e){var n=e.target;this.dispatchEvent(new t.Event(i.CHANGE,this,n.id)),this.unorderedList.style({opacity:"1"}),this.unorderedList.addEventListener(this,t.Container.TRANSITION_COMPLETE,this.hideList),this.unorderedList.to({duration:this.dropConfig.durationContract,delay:.3,toVars:{opacity:"0"}})},i.prototype.itemOver=function(t){var e=t.target;e.to({duration:this.dropConfig.durationIn,toVars:{backgroundColor:this.dropConfig.backgroundColorHover,color:this.dropConfig.colorHover}})},i.prototype.itemOut=function(t){var e=t.target;e.to({duration:this.dropConfig.durationOut,toVars:{backgroundColor:this.dropConfig.backgroundColor,color:this.dropConfig.color}})},i.prototype.buttonClicked=function(t){var e=this;this.unorderedList.style({display:"block",opacity:"0",top:"0px"}),this.unorderedList.to({duration:this.dropConfig.durationExpand,toVars:{alpha:1,y:this.button.height}}),this.scopedEventHandler=function(t){e.closeDrop(t)},document.body.addEventListener("mousedown",this.scopedEventHandler,!0),this.button.removeEventListener("mousedown",this.buttonClicked)},i.prototype.closeDrop=function(e){var n=this;document.body.removeEventListener("mousedown",this.scopedEventHandler,!0),setTimeout(function(){n.button.addEventListener(n,"mousedown",n.buttonClicked)},10),this.unorderedList.addEventListener(this,t.Container.TRANSITION_COMPLETE,this.hideList),this.unorderedList.to({duration:this.dropConfig.durationContract,toVars:{opacity:"0"}})},i.prototype.hideList=function(){this.unorderedList.removeEventListener(t.Container.TRANSITION_COMPLETE,this.hideList),this.unorderedList.style({display:"none"})},i.prototype.disable=function(){this.button.disable(),this.button.removeEventListener(t.Button.CLICK,this.buttonClicked)},i.prototype.enable=function(){this.button.enable(),this.button.addEventListener(this,t.Button.CLICK,this.buttonClicked)},i.CHANGE="change",i}(t.Container);t.DropDown=n}(t||(t={}));var t;!function(t){var n;!function(n){var i=function(n){function i(t){n.call(this,{id:t.id}),this.views={},this.currentState="",this.config=t,this.style(t.style),this.style(t)}return e(i,n),i.prototype.update=function(e){if(e!==this.currentState&&this.config.views[e]){this.currentState=e;var n={top:"0px",left:"0px",duration:0},i={top:"0px",left:"0px",duration:0};for(var o in this.config.to)n[o]=this.config.to[o];for(var o in this.config.from)i[o]=this.config.from[o];if(this.currentView&&(i.duration>0?(this.currentView.addEventListener(this,t.Container.TRANSITION_COMPLETE,this.removeView,this.currentView),this.currentView.to({duration:i.duration,toVars:{left:i.left,top:i.top,alpha:0}})):this.removeChild(this.currentView)),this.views[e]);else{var r=new this.config.views[e];this.views[e]=r}this.currentView=this.views[e],this.currentView.hydrate&&this.currentView.hydrate(),this.addChild(this.currentView),this.currentView.style({alpha:0}),n.duration>0?(this.currentView.addEventListener(this,t.Container.TRANSITION_COMPLETE,this.transitionComplete,this.currentView),this.currentView.to({duration:n.duration,toVars:{left:n.left,top:n.top,alpha:1}})):this.currentView.style({opacity:"1",display:"block",top:n.top,left:n.left})}},i.prototype.transitionComplete=function(e){var n=e.data;n.style({display:"block"}),n.removeEventListener(t.Container.TRANSITION_COMPLETE,this.transitionComplete)},i.prototype.removeView=function(e){var n=e.data;n.removeEventListener(t.Container.TRANSITION_COMPLETE,this.transitionComplete),this.removeChild(n)},i}(t.Container);n.StateMachine=i}(n=t.stateMachine||(t.stateMachine={}))}(t||(t={}));var n="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")(),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof module&&module&&!module.nodeType&&module,a=s&&s.exports===r;a&&n.process;"function"==typeof define&&"object"==typeof define.amd&&define.amd?(o.shiva=t,define(function(){return t})):s?((s.exports=t).shiva=t,r.shiva=t):o.shiva=t}.call(this);