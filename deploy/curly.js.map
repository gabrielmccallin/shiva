{"version":3,"sources":["curly.js","Properties.ts","EventDispatcher.ts","Container.ts","Anchor.ts","Button.ts","CheckBox.ts","Dimensions.ts","Image.ts","Observer.ts","RadioButton.ts","Resize.ts","ResponsiveText.ts","Select.ts","Styles.ts","URLLoader.ts","Window.ts","dropDown/DropDown.ts","stateMachine/StateMachine.ts"],"names":["__extends","this","d","b","__","constructor","p","hasOwnProperty","prototype","Object","create","curly","Properties","style","object","vars","element","i","value","toString","styleName","Event","type","targetObj","data","sourceEvent","_type","_target","_sourceEvent","_data","defineProperty","get","enumerable","configurable","_sourceData","set","EventDispatcher","_listeners","hasEventListener","listener","exists","length","addEventListener","scope","typeStr","listenerFunc","useCapture","scopedEventListener","undefined","push","sourceData","removeEventListener","filter","item","dispatchEvent","evt","call","Container","_super","config","root","_element","document","createElement","position","height","width","top","left","margin","id","body","appendChild","text","innerHtml","addToBody","className","_this","names","_i","arguments","map","name","addChild","child","childElement","removeChild","parentNode","to","duration","TweenLite","fromTo","fromVars","toVars","from","that","e","apply","eventType","cancelBubble","returnValue","customData","preventDefault","shadow","w","h","offsetTop","yPos","y","offsetLeft","xPos","x","parseFloat","opacity","hide","display","show","fillContainer","minWidth","minHeight","transform","centreHorizontal","marginLeft","marginRight","centreHorizontalText","textAlign","contains","dimensionsPolyfill","parent_1","parentElement","dimensions","getBoundingClientRect","scrollWidth","scrollHeight","Dimensions","inputElement","_value","identifier","innerHTML","html","href","link","Anchor","Button","cursor","enabled","icon","code","update","Styles","button","overWithEnable","outWithEnable","align","paddingRight","padding","paddingLeft","fontFamily","fontSize","float","pointerEvents","over","durationIn","backgroundColor","backgroundColorHover","color","colorHover","out","durationOut","click","event","CLICK","disable","select","enable","CheckBox","checked","Image","load","path","setAttribute","Observer","callback","observers","console","log","indexOfClosureToRemove","splice","RadioButton","Resize","proportionalOutside","objectWidth","objectHeight","areaWidth","areaHeight","ratio","targetWidth","targetHeight","proportionalInside","ResponsiveText","layout","Window","Select","options","option","selectedIndex","CHANGE","fontWeight","fontColourOver","fontColourOut","letterSpacing","cornerRadius","whiteSpace","msTouchAction","touchAction","webkitUserSelect","mozUserSelect","msUserSelect","userSelect","backgroundImage","border","borderColor","caret","borderLeftWidth","borderLeftStyle","borderLeftColor","borderRightWidth","borderRightStyle","borderRightColor","borderTopWidth","borderTopStyle","borderTopColor","verticalAlign","drop","listStyle","zIndex","marginTop","webkitBoxShadow","boxShadow","durationExpand","durationContract","URLLoader","url","method","params","headers","cache","http","abort","XMLHttpRequest","open","timeout","header","setRequestHeader","variable","onreadystatechange","handleResponse","bind","send","concatParams","queryString","concat","slice","readyState","status","event_1","COMPLETE","responseText","error","event_2","ERROR","GET","PUT","POST","UPDATE","scrollY","scrollTop","window","pageYOffset","scrollX","scrollLeft","pageXOffset","innerHeight","documentElement","clientHeight","innerWidth","clientWidth","DropDown","buttonText","items","buttonClicked","unorderedList","dropConfig","count","anchor","paddingBottom","paddingTop","itemOver","itemOut","itemClicked","target","killTweensOf","alpha","delay","onComplete","hideList","onCompleteScope","ease","Strong","easeOut","scopedEventHandler","g","closeDrop","delayedCall","stateMachine","StateMachine","views","currentState","state","currentView","removeView","onCompleteParams","view","hydrate"],"mappings":"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","file":"curly.js","sourcesContent":["var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar curly;\n(function (curly) {\n    var Properties = (function () {\n        function Properties() {\n        }\n        Properties.style = function (object, vars) {\n            var element;\n            if (object.element) {\n                element = object.element;\n            }\n            else {\n                element = object;\n            }\n            for (var i in vars) {\n                if (vars.hasOwnProperty(i)) {\n                    var value = vars[i];\n                    if (typeof (value) === \"number\") {\n                        if (value) {\n                            switch (i) {\n                                case \"x\":\n                                    value = vars[i].toString();\n                                    value += \"px\";\n                                    break;\n                                case \"y\":\n                                    value = vars[i].toString();\n                                    value += \"px\";\n                                    break;\n                                case \"height\":\n                                    value = vars[i].toString();\n                                    value += \"px\";\n                                    break;\n                                case \"width\":\n                                    value = vars[i].toString();\n                                    value += \"px\";\n                                    break;\n                                case \"backgroundColor\":\n                                    // let red = vars[i] >> 16;\n                                    // let green = (vars[i] >> 8) & 255;\n                                    // let blue = vars[i] & 255;\n                                    value = \"rgb(\" + (vars[i] >> 16) + \",\" + ((vars[i] >> 8) & 255) + \",\" + (vars[i] & 255) + \")\";\n                                    break;\n                                case \"color\":\n                                    value = \"rgb(\" + (vars[i] >> 16) + \",\" + ((vars[i] >> 8) & 255) + \",\" + (vars[i] & 255) + \")\";\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }\n                    }\n                    var styleName = i;\n                    switch (i) {\n                        case \"x\":\n                            styleName = \"left\";\n                            break;\n                        case \"y\":\n                            styleName = \"top\";\n                            break;\n                        case \"alpha\":\n                            styleName = \"opacity\";\n                            break;\n                        default:\n                            break;\n                    }\n                    element.style[styleName] = value;\n                }\n            }\n        };\n        return Properties;\n    }());\n    curly.Properties = Properties;\n})(curly || (curly = {}));\n/**\n * EventDispatcher (TypeScript)\n * - Simple extendable event dispatching class\n *\n * @version 0.1.5\n * @author John Vrbanac\n * @license MIT License\n **/\nvar curly;\n(function (curly) {\n    var Event = (function () {\n        function Event(type, targetObj, data, sourceEvent) {\n            this._type = type;\n            this._target = targetObj;\n            this._sourceEvent = sourceEvent;\n            this._data = data;\n        }\n        Object.defineProperty(Event.prototype, \"target\", {\n            get: function () {\n                return this._target;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"type\", {\n            // getTarget(): any {\n            //     return this._target;\n            // }\n            get: function () {\n                return this._type;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"data\", {\n            get: function () {\n                return this._data;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"sourceEvent\", {\n            get: function () {\n                return this._sourceEvent;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"sourceData\", {\n            get: function () {\n                return this._sourceData;\n            },\n            set: function (data) {\n                this._sourceData = data;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return Event;\n    }());\n    curly.Event = Event;\n    var EventDispatcher = (function () {\n        function EventDispatcher() {\n            this._listeners = [];\n        }\n        EventDispatcher.prototype.hasEventListener = function (type, listener) {\n            var exists = false;\n            for (var i = 0; i < this._listeners.length; i++) {\n                if (this._listeners[i].type === type && this._listeners[i].listener === listener) {\n                    exists = true;\n                }\n            }\n            return exists;\n        };\n        EventDispatcher.prototype.addEventListener = function (scope, typeStr, listenerFunc, data, useCapture, scopedEventListener) {\n            if (useCapture === void 0) { useCapture = false; }\n            if (scopedEventListener === void 0) { scopedEventListener = undefined; }\n            if (this.hasEventListener(typeStr, listenerFunc)) {\n                return;\n            }\n            this._listeners.push({\n                scope: scope,\n                type: typeStr,\n                listener: listenerFunc,\n                useCapture: useCapture,\n                scopedEventListener: scopedEventListener,\n                sourceData: data\n            });\n        };\n        EventDispatcher.prototype.removeEventListener = function (typeStr, listenerFunc) {\n            var listener = this._listeners.filter(function (item) {\n                return (item.type === typeStr && item.listener.toString() === listenerFunc.toString());\n            });\n            this._listeners = this._listeners.filter(function (item) {\n                return (!(item.type === typeStr && item.listener.toString() === listenerFunc.toString()));\n            });\n            return listener[0];\n        };\n        EventDispatcher.prototype.dispatchEvent = function (evt) {\n            for (var i = 0; i < this._listeners.length; i++) {\n                if (this._listeners[i].type === evt.type) {\n                    if (this._listeners[i].sourceData) {\n                        evt.sourceData = this._listeners[i].sourceData;\n                    }\n                    this._listeners[i].listener.call(this._listeners[i].scope, evt);\n                }\n            }\n        };\n        return EventDispatcher;\n    }());\n    curly.EventDispatcher = EventDispatcher;\n})(curly || (curly = {}));\n/// <reference path=\"properties.ts\" />\n/// <reference path=\"EventDispatcher.ts\" />\n/**\n * curly.Container (TypeScript)\n * - Container\n *\n * @version 0.1.5\n * @author Gabriel McCallin\n * @license MIT License\n **/\nvar curly;\n(function (curly) {\n    var Container = (function (_super) {\n        __extends(Container, _super);\n        function Container(config) {\n            _super.call(this);\n            if (config) {\n                if (config.root) {\n                    this._element = document.createElement(\"div\");\n                    // recommended properties\n                    this._element.style.position = \"absolute\";\n                    this._element.style.height = \"100%\";\n                    this._element.style.width = \"100%\";\n                    this._element.style.top = \"0px\";\n                    this._element.style.left = \"0px\";\n                    this._element.style.margin = \"0px\";\n                    this._element.id = \"app\";\n                    document.body.appendChild(this._element);\n                }\n                else {\n                    if (config.type) {\n                        this._element = document.createElement(config.type);\n                    }\n                    else {\n                        this._element = document.createElement(\"div\");\n                    }\n                }\n                if (config.id) {\n                    this._element.id = config.id;\n                }\n                if (config.text) {\n                    this.innerHtml = config.text;\n                }\n                this.style(config.style);\n                this.style(config);\n            }\n            else {\n                this._element = document.createElement(\"div\");\n            }\n            // seen some issues with the default static\n            // this._element.style.position = \"relative\";\n        }\n        Container.prototype.addToBody = function () {\n            document.body.appendChild(this._element);\n        };\n        Container.prototype.style = function (vars) {\n            curly.Properties.style(this._element, vars);\n        };\n        Container.prototype.className = function () {\n            var _this = this;\n            var names = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                names[_i - 0] = arguments[_i];\n            }\n            names.map((function (name) {\n                _this._element.className = name;\n            }));\n        };\n        Container.prototype.addChild = function (child) {\n            var childElement;\n            if (child.element) {\n                childElement = child.element;\n            }\n            // else {\n            //     childElement = <HTMLElement>child;\n            // }\n            this._element.appendChild(childElement);\n        };\n        Container.prototype.removeChild = function (child) {\n            if (this._element === child.element.parentNode) {\n                this._element.removeChild(child.element);\n            }\n        };\n        Container.prototype.to = function (duration, vars) {\n            return TweenLite.to(this._element, duration, vars);\n        };\n        Container.prototype.fromTo = function (duration, fromVars, toVars) {\n            return TweenLite.fromTo(this._element, duration, fromVars, toVars);\n        };\n        Container.prototype.from = function (duration, vars) {\n            return TweenLite.from(this._element, duration, vars);\n        };\n        Container.prototype.addEventListener = function (scope, typeStr, listenerFunc, data, useCapture) {\n            if (useCapture === void 0) { useCapture = false; }\n            var that = this;\n            var scopedEventListener = function (e) {\n                // console.log(\"captured at add\", e); \n                listenerFunc.apply(scope, [new curly.Event(typeStr, that, data, e)]);\n            };\n            _super.prototype.addEventListener.call(this, scope, typeStr, listenerFunc, useCapture, data, scopedEventListener);\n            // add to element \n            if (this._element.addEventListener) {\n                // Firefox, Google Chrome and Safari (and Opera and Internet Explorer from\n                // version 9). \n                this._element.addEventListener(typeStr, scopedEventListener, useCapture);\n            }\n            else if (this._element[\"attachEvent\"]) {\n                // Opera and Explorer (version < 9).\n                this._element[\"attachEvent\"]('on' + typeStr, scopedEventListener);\n                this._element[\"attachEvent\"](\"onpropertychange\", function (e) {\n                    if (e.eventType === typeStr) {\n                        e.cancelBubble = true;\n                        e.returnValue = false;\n                        e.data = e.customData;\n                        scopedEventListener(e);\n                    }\n                });\n            }\n        };\n        Container.prototype.removeEventListener = function (typeStr, listenerFunc) {\n            var listener = _super.prototype.removeEventListener.call(this, typeStr, listenerFunc);\n            if (this._element.removeEventListener) {\n                // Firefox, Google Chrome and Safari (and Opera and Internet Explorer from\n                // version 9).\n                this._element.removeEventListener(typeStr, listener.scopedEventListener, listener.useCapture);\n            }\n            else if (this._element[\"detachEvent\"]) {\n                // Opera and Explorer (version < 9).\n                this._element[\"detachEvent\"]('on' + typeStr, listenerFunc);\n            }\n            return listener;\n        };\n        Container.prototype.preventDefault = function (e) {\n            e.preventDefault ? e.preventDefault() : e.returnValue = false;\n        };\n        Object.defineProperty(Container.prototype, \"width\", {\n            get: function () {\n                return this.shadow().width;\n            },\n            set: function (w) {\n                curly.Properties.style(this._element, { width: w });\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"height\", {\n            get: function () {\n                return this.shadow().height;\n            },\n            set: function (h) {\n                curly.Properties.style(this._element, { height: h });\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"y\", {\n            get: function () {\n                return this._element.offsetTop;\n            },\n            set: function (yPos) {\n                curly.Properties.style(this._element, { y: yPos });\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"x\", {\n            get: function () {\n                return this._element.offsetLeft;\n            },\n            set: function (xPos) {\n                curly.Properties.style(this._element, { x: xPos });\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"alpha\", {\n            get: function () {\n                return parseFloat(this._element.style.opacity);\n            },\n            set: function (value) {\n                curly.Properties.style(this._element, { opacity: value.toString() });\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Container.prototype.hide = function () {\n            curly.Properties.style(this._element, { display: \"none\" });\n        };\n        Container.prototype.show = function () {\n            curly.Properties.style(this._element, { display: \"block\" });\n        };\n        Container.prototype.fillContainer = function () {\n            curly.Properties.style(this._element, {\n                minWidth: \"100%\",\n                minHeight: \"100%\",\n                left: \"50%\",\n                top: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n                position: \"relative\"\n            });\n        };\n        Container.prototype.centreHorizontal = function () {\n            curly.Properties.style(this._element, {\n                display: \"block\",\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n                position: \"relative\"\n            });\n        };\n        Container.prototype.centreHorizontalText = function () {\n            curly.Properties.style(this._element, {\n                textAlign: \"center\"\n            });\n        };\n        Container.prototype.shadow = function () {\n            if (!document.body.contains(this._element)) {\n                var parent_1 = this._element.parentElement;\n                document.body.appendChild(this._element);\n                var dimensions = this.dimensionsPolyfill();\n                document.body.removeChild(this._element);\n                if (parent_1) {\n                    parent_1.appendChild(this._element);\n                }\n                else {\n                    document.body.removeChild(this._element);\n                }\n                return dimensions;\n            }\n            else {\n                return this.dimensionsPolyfill();\n            }\n        };\n        Container.prototype.dimensionsPolyfill = function () {\n            var height = this._element.getBoundingClientRect().height;\n            var width = this._element.getBoundingClientRect().width;\n            // width = this._element.scrollWidth;\n            // height = this._element.scrollHeight;\n            if (width && height) {\n            }\n            else {\n                // fallback to scrollwidth and scrollheight\n                width = this._element.scrollWidth;\n                height = this._element.scrollHeight;\n            }\n            var dimensions = new curly.Dimensions(width, height);\n            return dimensions;\n        };\n        Object.defineProperty(Container.prototype, \"value\", {\n            get: function () {\n                var inputElement = this._element;\n                return inputElement.value;\n            },\n            set: function (_value) {\n                var inputElement = this._element;\n                inputElement.value = _value;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"id\", {\n            get: function () {\n                return this._element.id;\n            },\n            set: function (identifier) {\n                this._element.id = identifier;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"element\", {\n            get: function () {\n                return this._element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"innerHtml\", {\n            get: function () {\n                return this._element.innerHTML;\n            },\n            set: function (html) {\n                this._element.innerHTML = html;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Container.prototype, \"href\", {\n            get: function () {\n                var element = this._element;\n                return element.href;\n            },\n            set: function (link) {\n                var element = this._element;\n                element.href = link;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return Container;\n    }(curly.EventDispatcher));\n    curly.Container = Container;\n})(curly || (curly = {}));\n/// <reference path=\"Container.ts\" />\nvar curly;\n(function (curly) {\n    var Anchor = (function (_super) {\n        __extends(Anchor, _super);\n        function Anchor(config) {\n            config.type = \"a\";\n            _super.call(this, config);\n            var element = this.element;\n            element.href = config.href;\n        }\n        return Anchor;\n    }(curly.Container));\n    curly.Anchor = Anchor;\n})(curly || (curly = {}));\n/// <reference path=\"container.ts\" />\nvar curly;\n(function (curly) {\n    var Button = (function (_super) {\n        __extends(Button, _super);\n        function Button(config) {\n            var type;\n            if (config.href) {\n                type = \"a\";\n            }\n            else {\n                type = \"button\";\n            }\n            if (config.type) {\n                type = config.type;\n            }\n            _super.call(this, {\n                id: config.id,\n                type: type,\n                cursor: \"pointer\",\n                display: \"inline-block\"\n            });\n            this.href = config.href;\n            this.enabled = true;\n            if (config.icon && config.icon.code) {\n                this.icon = new curly.Container({\n                    type: \"span\",\n                    text: config.icon.code\n                });\n            }\n            this.update(config);\n        }\n        Button.prototype.update = function (config) {\n            this.config = {};\n            for (var i in curly.Styles.button) {\n                this.config[i] = curly.Styles.button[i];\n            }\n            if (config && config.style) {\n                for (var i in config.style) {\n                    this.config[i] = config.style[i];\n                }\n            }\n            for (var i in config) {\n                this.config[i] = config[i];\n            }\n            if (config.style) {\n                for (var i in config.style.icon) {\n                    this.config.icon[i] = config.style.icon[i];\n                }\n            }\n            this.innerHtml = config.text;\n            this.addEventListener(this, \"mouseover\", this.overWithEnable);\n            this.addEventListener(this, \"mouseout\", this.outWithEnable);\n            if (this.config.icon && this.config.icon.code) {\n                if (this.config.icon.align === \"left\") {\n                    this.icon.style({\n                        paddingRight: this.config.icon.padding,\n                    });\n                }\n                else {\n                    this.icon.style({\n                        paddingLeft: this.config.icon.padding\n                    });\n                }\n                this.icon.style({\n                    fontFamily: this.config.icon.fontFamily,\n                    fontSize: this.config.icon.fontSize,\n                    float: this.config.icon.align,\n                    pointerEvents: \"none\"\n                });\n                this.addChild(this.icon);\n            }\n            //anything else in the config\n            this.style(this.config);\n        };\n        Button.prototype.over = function () {\n            this.to(this.config.durationIn, {\n                backgroundColor: this.config.backgroundColorHover,\n                // backgroundColor: \"#ff0000\",\n                color: this.config.colorHover\n            });\n        };\n        Button.prototype.out = function () {\n            this.to(this.config.durationOut, {\n                backgroundColor: this.config.backgroundColor,\n                color: this.config.color\n            });\n        };\n        Button.prototype.click = function (e) {\n            if (this.enabled) {\n                //this.out();\n                var event = new curly.Event(Button.CLICK, this, e);\n                this.dispatchEvent(event);\n            }\n        };\n        Button.prototype.disable = function () {\n            this.enabled = false;\n            this.style({ cursor: \"default\" });\n        };\n        Button.prototype.select = function () {\n            this.enabled = false;\n            this.style({ cursor: \"default\" });\n        };\n        Button.prototype.enable = function () {\n            this.enabled = true;\n            this.style({ cursor: \"pointer\" });\n            this.out();\n        };\n        Object.defineProperty(Button.prototype, \"data\", {\n            get: function () {\n                return this.config.data;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Button.prototype.overWithEnable = function (e) {\n            if (this.enabled) {\n                this.over();\n            }\n        };\n        Button.prototype.outWithEnable = function (e) {\n            if (this.enabled) {\n                this.out();\n            }\n        };\n        Button.CLICK = \"click\";\n        return Button;\n    }(curly.Container));\n    curly.Button = Button;\n})(curly || (curly = {}));\n/// <reference path=\"container.ts\" />\nvar curly;\n(function (curly) {\n    var CheckBox = (function (_super) {\n        __extends(CheckBox, _super);\n        function CheckBox(config) {\n            _super.call(this, {\n                type: \"input\"\n            });\n            var element = this.element;\n            element.type = \"checkbox\";\n            if (config) {\n                if (config.id) {\n                    this.id = config.id;\n                }\n                this.style(config.style);\n                //anything else in the config\n                this.style(config);\n                element.checked = config.checked;\n            }\n        }\n        Object.defineProperty(CheckBox.prototype, \"checked\", {\n            get: function () {\n                var element = this.element;\n                return element.checked;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CheckBox.CLICK = \"click\";\n        return CheckBox;\n    }(curly.Container));\n    curly.CheckBox = CheckBox;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var Dimensions = (function () {\n        function Dimensions(width, height) {\n            this.width = width;\n            this.height = height;\n        }\n        return Dimensions;\n    }());\n    curly.Dimensions = Dimensions;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var Image = (function (_super) {\n        __extends(Image, _super);\n        function Image(config) {\n            config.type = \"img\";\n            _super.call(this, config);\n            this.load(config.path);\n            // this.addEventListener(this, \"load\", this.loaded);\n            // this.addEventListener(this, \"error\", this.error);\n        }\n        Image.prototype.load = function (path) {\n            this.element.setAttribute(\"src\", path);\n        };\n        return Image;\n    }(curly.Container));\n    curly.Image = Image;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var Observer = (function () {\n        function Observer() {\n        }\n        Observer.addEventListener = function (scope, type, callback) {\n            if (!this.observers[type]) {\n                this.observers[type] = [];\n            }\n            console.log(\"ADDING OBSERVER: \", type);\n            this.observers[type].push({ scope: scope, type: type, callback: callback });\n        };\n        Observer.removeEventListener = function (type, callback) {\n            var indexOfClosureToRemove;\n            for (var i = 0; i < this.observers[type].length; i++) {\n                if (this.observers[type].callback === callback) {\n                    indexOfClosureToRemove = i;\n                    console.log(\"REMOVING OBSERVER: \", type);\n                    break;\n                }\n            }\n            this.observers[type].splice(indexOfClosureToRemove, 1);\n        };\n        Observer.dispatchEvent = function (evt) {\n            var type = evt.type;\n            if (this.observers[type]) {\n                for (var i = 0; i < this.observers[type].length; i++) {\n                    this.observers[type][i].callback.call(this.observers[type][i].scope, evt);\n                }\n            }\n            else {\n                console.log(\"DISPATCH ERROR: NO OBSERVER REGISTERED\");\n            }\n        };\n        Observer.observers = {};\n        return Observer;\n    }());\n    curly.Observer = Observer;\n})(curly || (curly = {}));\n/// <reference path=\"container.ts\" />\nvar curly;\n(function (curly) {\n    var RadioButton = (function (_super) {\n        __extends(RadioButton, _super);\n        function RadioButton(config) {\n            _super.call(this, {\n                type: \"input\"\n            });\n            var element = this.element;\n            element.type = \"radio\";\n            if (config) {\n                if (config.id) {\n                    this.id = config.id;\n                }\n                this.style(config.style);\n                //anything else in the config\n                this.style(config);\n                element.checked = config.checked;\n            }\n        }\n        Object.defineProperty(RadioButton.prototype, \"checked\", {\n            get: function () {\n                var element = this.element;\n                return element.checked;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        RadioButton.CLICK = \"click\";\n        return RadioButton;\n    }(curly.Container));\n    curly.RadioButton = RadioButton;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var Resize = (function () {\n        function Resize() {\n        }\n        Resize.proportionalOutside = function (objectWidth, objectHeight, areaWidth, areaHeight) {\n            var ratio = objectWidth / objectHeight;\n            var targetWidth = areaWidth;\n            var targetHeight = areaWidth / ratio;\n            //\n            if (targetHeight < areaHeight) {\n                targetHeight = areaHeight;\n                targetWidth = targetHeight * ratio;\n            }\n            return { height: targetHeight, width: targetWidth };\n        };\n        Resize.proportionalInside = function (objectWidth, objectHeight, areaWidth, areaHeight) {\n            var ratio = objectWidth / objectHeight;\n            var targetWidth = areaWidth;\n            var targetHeight = areaWidth * ratio;\n            if (targetHeight > areaHeight) {\n                targetHeight = areaHeight;\n                targetWidth = targetHeight * ratio;\n            }\n            return { height: targetHeight, width: targetWidth };\n        };\n        return Resize;\n    }());\n    curly.Resize = Resize;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var ResponsiveText = (function () {\n        function ResponsiveText() {\n        }\n        ResponsiveText.layout = function () {\n            if (curly.Window.width > 1600) {\n                document.body.style.fontSize = \"120%\";\n            }\n            if (curly.Window.width <= 1600 && curly.Window.width > 1000) {\n                document.body.style.fontSize = \"110%\";\n            }\n            if (curly.Window.width <= 1000 && curly.Window.width > 780) {\n                document.body.style.fontSize = \"100%\";\n            }\n            if (curly.Window.width <= 780 && curly.Window.width > 400) {\n                document.body.style.fontSize = \"90%\";\n            }\n            if (curly.Window.width <= 400) {\n                document.body.style.fontSize = \"80%\";\n            }\n        };\n        return ResponsiveText;\n    }());\n    curly.ResponsiveText = ResponsiveText;\n})(curly || (curly = {}));\n/// <reference path=\"Container.ts\" />\nvar curly;\n(function (curly) {\n    var Select = (function (_super) {\n        __extends(Select, _super);\n        function Select(config) {\n            var _this = this;\n            config.type = \"select\";\n            _super.call(this, config);\n            var element = this.element;\n            if (config.name) {\n                element.name = config.name;\n            }\n            var options = config.options;\n            options.map(function (option) {\n                var item = new curly.Container({\n                    text: option,\n                    type: \"option\"\n                });\n                _this.addChild(item);\n            });\n        }\n        Object.defineProperty(Select.prototype, \"value\", {\n            get: function () {\n                var element = this.element;\n                return element.value;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Select.prototype, \"selectedIndex\", {\n            get: function () {\n                var element = this.element;\n                return element.selectedIndex;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Select.CHANGE = \"change\";\n        return Select;\n    }(curly.Container));\n    curly.Select = Select;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var Styles = (function () {\n        function Styles() {\n        }\n        Styles.button = {\n            fontSize: \"1.2em\",\n            fontFamily: \"sans-serif\",\n            fontWeight: \"300\",\n            fontColourOver: 0x333333,\n            fontColourOut: 0xffffff,\n            letterSpacing: \"0em\",\n            backgroundColor: \"#f1f1f1\",\n            backgroundColorHover: \"#dddddd\",\n            cornerRadius: \"0.5em\",\n            durationOut: 1,\n            durationIn: 0,\n            padding: \"0.5em\",\n            textAlign: \"left\",\n            whiteSpace: \"nowrap\",\n            msTouchAction: \"manipulation\",\n            touchAction: \"manipulation\",\n            cursor: \"pointer\",\n            webkitUserSelect: \"none\",\n            mozUserSelect: \"none\",\n            msUserSelect: \"none\",\n            userSelect: \"none\",\n            backgroundImage: \"none\",\n            border: \"1px solid transparent\",\n            borderColor: \"#dddddd\",\n            color: \"#333333\",\n            colorHover: \"#ffffff\",\n            text: \"button\"\n        };\n        Styles.caret = {\n            width: \"0px\",\n            height: \"0px\",\n            borderLeftWidth: \"0.35rem\",\n            borderLeftStyle: \"solid\",\n            borderLeftColor: \"transparent\",\n            borderRightWidth: \"0.35rem\",\n            borderRightStyle: \"solid\",\n            borderRightColor: \"transparent\",\n            borderTopWidth: \"0.35rem\",\n            borderTopStyle: \"solid\",\n            borderTopColor: \"black\",\n            display: \"inline-block\",\n            verticalAlign: \"middle\",\n            marginLeft: \"0.35rem\"\n        };\n        Styles.drop = {\n            fontFamily: \"sans-serif\",\n            fontSize: \"1.2rem\",\n            backgroundColor: \"#ffffff\",\n            backgroundColorHover: \"#cccccc\",\n            colorHover: \"#000000\",\n            color: \"#000000\",\n            durationIn: 0,\n            durationOut: 0.5,\n            listStyle: \"none\",\n            zIndex: \"1000\",\n            position: \"absolute\",\n            // float: \"left\",\n            //!important to remove default margin on a ul\n            marginTop: \"0px\",\n            minWidth: \"5rem\",\n            border: \"1px solid rgba(0,0,0,.15)\",\n            webkitBoxShadow: \"0 6px 12px rgba(0,0,0,.175)\",\n            boxShadow: \"0px 6px 12px rgba(0,0,0,0.175)\",\n            fontWeight: \"300\",\n            paddingLeft: \"0px\",\n            durationExpand: \"0.5\",\n            durationContract: \"0.5\"\n        };\n        return Styles;\n    }());\n    curly.Styles = Styles;\n})(curly || (curly = {}));\n/// <reference path=\"eventdispatcher.ts\" />\nvar curly;\n(function (curly) {\n    var URLLoader = (function (_super) {\n        __extends(URLLoader, _super);\n        function URLLoader() {\n            _super.call(this);\n        }\n        URLLoader.prototype.load = function (url, method, params, scope, headers, cache) {\n            var _this = this;\n            if (this.http) {\n                this.http.abort();\n            }\n            else {\n                this.http = new XMLHttpRequest();\n            }\n            this.http.open(method, url, true);\n            this.http.timeout = 20000;\n            //this.http.setRequestHeader('X-Requested-With', 'XMLHttpRequest');  \n            if (headers) {\n                headers.map(function (header) {\n                    _this.http.setRequestHeader(header.value, header.variable);\n                });\n            }\n            //if (!cache) {\n            //    this.http.setRequestHeader(\"If-Modified-Since\", \"Sat, 01 Jan 2005 00:00:00 GMT\");\n            //}\n            this.http.onreadystatechange = this.handleResponse.bind(this);\n            this.http.send(params);\n        };\n        URLLoader.prototype.concatParams = function (params) {\n            var queryString = \"?\";\n            for (var i in params) {\n                if (params.hasOwnProperty(i)) {\n                    queryString.concat(i, \"=\", params[i], \"&\");\n                }\n            }\n            queryString = queryString.slice(0, -1);\n            return queryString;\n        };\n        URLLoader.prototype.setRequestHeader = function (header) {\n            this.http.setRequestHeader(header.value, header.variable);\n        };\n        URLLoader.prototype.handleResponse = function () {\n            if (this.http.readyState === 4) {\n                if (this.http.status === 200) {\n                    var event_1 = new curly.Event(URLLoader.COMPLETE, this, this.http.responseText);\n                    _super.prototype.dispatchEvent.call(this, event_1);\n                    this.http.onreadystatechange = undefined;\n                }\n                else {\n                    var error = void 0;\n                    if (this.http.status === 0) {\n                        error = \"Network Error 0x2ee2\";\n                    }\n                    else {\n                        error = this.http.status.toString();\n                    }\n                    var event_2 = new curly.Event(URLLoader.ERROR, this, this.http.status);\n                    _super.prototype.dispatchEvent.call(this, event_2);\n                }\n            }\n        };\n        URLLoader.COMPLETE = \"COMPLETE\";\n        URLLoader.ERROR = \"ERROR\";\n        URLLoader.GET = \"GET\";\n        URLLoader.PUT = \"PUT\";\n        URLLoader.POST = \"POST\";\n        URLLoader.UPDATE = \"UPDATE\";\n        return URLLoader;\n    }(curly.EventDispatcher));\n    curly.URLLoader = URLLoader;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var Window = (function () {\n        function Window() {\n        }\n        Window.scrollY = function () {\n            var scrollTop = document.body.scrollTop;\n            if (scrollTop == 0) {\n                if (window.pageYOffset) {\n                    scrollTop = window.pageYOffset;\n                }\n                else {\n                    scrollTop = (document.body.parentElement) ? document.body.parentElement.scrollTop : 0;\n                }\n            }\n            return scrollTop;\n        };\n        Window.scrollX = function () {\n            var scrollLeft = document.body.scrollLeft;\n            if (scrollLeft == 0) {\n                if (window.pageXOffset) {\n                    scrollLeft = window.pageXOffset;\n                }\n                else {\n                    scrollLeft = (document.body.parentElement) ? document.body.parentElement.scrollLeft : 0;\n                }\n            }\n            return scrollLeft;\n        };\n        Object.defineProperty(Window, \"height\", {\n            get: function () {\n                return window.innerHeight\n                    || document.documentElement.clientHeight\n                    || document.body.clientHeight;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Window, \"width\", {\n            get: function () {\n                return window.innerWidth\n                    || document.documentElement.clientWidth\n                    || document.body.clientWidth;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return Window;\n    }());\n    curly.Window = Window;\n})(curly || (curly = {}));\n/// <reference path=\"../container.ts\" />\nvar curly;\n(function (curly) {\n    var DropDown = (function (_super) {\n        __extends(DropDown, _super);\n        function DropDown(config) {\n            var _this = this;\n            var buttonText = \"Button\";\n            if (config.text) {\n                buttonText = config.text;\n            }\n            config.text = undefined;\n            config.position = \"relative\";\n            _super.call(this, config);\n            this.items = [];\n            this.button = new curly.Button({\n                style: curly.Styles.button,\n                display: \"inline-block\",\n                text: \"button\",\n                type: \"div\",\n                zIndex: \"1001\",\n                position: \"absolute\"\n            });\n            if (config.button) {\n                config.button.text = buttonText;\n                this.button.update(config.button);\n            }\n            this.addChild(this.button);\n            var caret = new curly.Container({\n                id: \"drop-caret\",\n                style: curly.Styles.caret,\n                pointerEvents: \"none\"\n            });\n            if (config.caret) {\n                caret.style(config.caret);\n            }\n            this.button.addChild(caret);\n            this.button.addEventListener(this, \"mousedown\", this.buttonClicked);\n            this.unorderedList = new curly.Container({\n                type: \"ul\",\n                id: this.id\n            });\n            this.dropConfig = {};\n            for (var i in curly.Styles.drop) {\n                this.dropConfig[i] = curly.Styles.drop[i];\n            }\n            for (var i in config.drop) {\n                this.dropConfig[i] = config.drop[i];\n            }\n            this.unorderedList.style(this.dropConfig);\n            this.addChild(this.unorderedList);\n            var count = 0;\n            config.options.map(function (option) {\n                var item = new curly.Container({\n                    id: count.toString(),\n                    type: \"li\"\n                });\n                _this.unorderedList.addChild(item);\n                var anchor = new curly.Container({\n                    id: count.toString(),\n                    type: \"a\"\n                });\n                anchor.style({\n                    display: \"list-item\",\n                    position: \"static\",\n                    color: _this.dropConfig.color,\n                    paddingLeft: \"0.5em\",\n                    paddingRight: \"0px\",\n                    paddingBottom: \"0.5em\",\n                    paddingTop: \"0.5em\",\n                    cursor: \"pointer\"\n                });\n                _this.items.push(item);\n                anchor.innerHtml = option;\n                anchor.addEventListener(_this, \"mouseover\", _this.itemOver);\n                anchor.addEventListener(_this, \"mouseout\", _this.itemOut);\n                anchor.addEventListener(_this, \"mousedown\", _this.itemClicked);\n                item.addChild(anchor);\n                count++;\n            });\n            this.unorderedList.style({\n                display: \"none\"\n            });\n            this.style(config);\n        }\n        DropDown.prototype.itemClicked = function (e) {\n            var element = e.target;\n            this.dispatchEvent(new curly.Event(DropDown.CHANGE, this, element.id));\n            TweenLite.killTweensOf(this.unorderedList.element);\n            this.unorderedList.alpha = 1;\n            this.unorderedList.to(this.dropConfig.durationContract, {\n                delay: 0.3,\n                alpha: 0,\n                onComplete: this.hideList,\n                onCompleteScope: this\n            });\n        };\n        DropDown.prototype.itemOver = function (e) {\n            var element = e.target;\n            element.to(this.dropConfig.durationIn, {\n                backgroundColor: this.dropConfig.backgroundColorHover,\n                color: this.dropConfig.colorHover\n            });\n        };\n        DropDown.prototype.itemOut = function (e) {\n            var element = e.target;\n            element.to(this.dropConfig.durationOut, {\n                backgroundColor: this.dropConfig.backgroundColor,\n                color: this.dropConfig.color\n            });\n        };\n        DropDown.prototype.buttonClicked = function (e) {\n            var _this = this;\n            TweenLite.killTweensOf(this.unorderedList.element);\n            this.unorderedList.style({\n                display: \"block\",\n                alpha: 0,\n                top: \"0px\"\n            });\n            this.unorderedList.to(this.dropConfig.durationExpand, { ease: Strong.easeOut, alpha: 1, top: this.button.height });\n            this.scopedEventHandler = function (g) { _this.closeDrop(g); };\n            // ! Don't think this will work in IE8, need attachEvent or polyfill\n            document.body.addEventListener(\"mousedown\", this.scopedEventHandler, true);\n            this.button.removeEventListener(\"mousedown\", this.buttonClicked);\n        };\n        DropDown.prototype.closeDrop = function (e) {\n            var _this = this;\n            // ! Don't think this will work in IE8, need attachEvent or polyfill\n            document.body.removeEventListener(\"mousedown\", this.scopedEventHandler, true);\n            TweenLite.delayedCall(0, (function () {\n                _this.button.addEventListener(_this, \"mousedown\", _this.buttonClicked);\n            }), null, this);\n            this.unorderedList.to(this.dropConfig.durationContract, {\n                alpha: 0,\n                onComplete: this.hideList,\n                onCompleteScope: this\n            });\n        };\n        DropDown.prototype.hideList = function () {\n            this.unorderedList.style({\n                display: \"none\"\n            });\n        };\n        DropDown.prototype.disable = function () {\n            this.button.disable();\n            this.button.removeEventListener(curly.Button.CLICK, this.buttonClicked);\n        };\n        DropDown.prototype.enable = function () {\n            this.button.enable();\n            this.button.addEventListener(this, curly.Button.CLICK, this.buttonClicked);\n        };\n        DropDown.CHANGE = \"change\";\n        return DropDown;\n    }(curly.Container));\n    curly.DropDown = DropDown;\n})(curly || (curly = {}));\nvar curly;\n(function (curly) {\n    var stateMachine;\n    (function (stateMachine) {\n        var StateMachine = (function (_super) {\n            __extends(StateMachine, _super);\n            function StateMachine(config) {\n                _super.call(this, {\n                    id: config.id\n                });\n                this.views = {};\n                this.currentState = \"\";\n                this.config = config;\n                this.style(config.style);\n                this.style(config);\n            }\n            StateMachine.prototype.update = function (state) {\n                if (state !== this.currentState) {\n                    if (this.config.views[state]) {\n                        this.currentState = state;\n                        var to = {\n                            top: \"0px\",\n                            left: \"0px\",\n                            duration: 0\n                        };\n                        var from = {\n                            top: \"0px\",\n                            left: \"0px\",\n                            duration: 0\n                        };\n                        for (var i in this.config.to) {\n                            to[i] = this.config.to[i];\n                        }\n                        for (var i in this.config.from) {\n                            from[i] = this.config.from[i];\n                        }\n                        if (this.currentView) {\n                            if (from.duration > 0) {\n                                this.currentView.to(from.duration, { left: from.left, top: from.top, alpha: 0, onComplete: this.removeView, onCompleteScope: this, onCompleteParams: [this.currentView] });\n                            }\n                            else {\n                                this.removeChild(this.currentView);\n                            }\n                        }\n                        if (this.views[state]) {\n                        }\n                        else {\n                            var view = new this.config.views[state]();\n                            this.views[state] = view;\n                        }\n                        this.currentView = this.views[state];\n                        if (this.currentView.hydrate) {\n                            this.currentView.hydrate();\n                        }\n                        this.addChild(this.currentView);\n                        this.currentView.style({\n                            alpha: 0\n                        });\n                        if (to.duration > 0) {\n                            this.currentView.to(to.duration, { left: to.left, top: to.top, alpha: 1, onComplete: function (view) { return view.style({ display: \"block\" }); }, onCompleteParams: [this.currentView] });\n                        }\n                        else {\n                            this.currentView.style({\n                                opacity: \"1\",\n                                display: \"block\",\n                                top: to.top,\n                                left: to.left\n                            });\n                        }\n                    }\n                    else {\n                        console.log(\"no view defined called: \", state);\n                    }\n                }\n                else {\n                    console.log(\"view already loaded: \", state);\n                }\n            };\n            StateMachine.prototype.removeView = function (view) {\n                this.removeChild(view);\n            };\n            return StateMachine;\n        }(curly.Container));\n        stateMachine.StateMachine = StateMachine;\n    })(stateMachine = curly.stateMachine || (curly.stateMachine = {}));\n})(curly || (curly = {}));\n","module curly {\r\n    export class Properties {\r\n        static style(object: any, vars: StyleDeclaration) {\r\n            let element: HTMLElement;\r\n            if (object.element) {\r\n                element = object.element;\r\n            }\r\n            else {\r\n                element = object;\r\n            }\r\n\r\n            for (let i in vars) {\r\n                if (vars.hasOwnProperty(i)) {\r\n                    let value: any = vars[i];\r\n                    if (typeof (value) === \"number\") {\r\n                        if (value) {\r\n                            switch (i) {\r\n                                case \"x\":\r\n                                    value = vars[i].toString();\r\n                                    value += \"px\";\r\n                                    break;\r\n                                case \"y\":\r\n                                    value = vars[i].toString();\r\n                                    value += \"px\";\r\n                                    break;\r\n                                case \"height\":\r\n                                    value = vars[i].toString();\r\n                                    value += \"px\";\r\n                                    break;\r\n                                case \"width\":\r\n                                    value = vars[i].toString();\r\n                                    value += \"px\";\r\n                                    break;\r\n                                case \"backgroundColor\":\r\n                                    // let red = vars[i] >> 16;\r\n                                    // let green = (vars[i] >> 8) & 255;\r\n                                    // let blue = vars[i] & 255;\r\n                                    value = \"rgb(\" + (vars[i] >> 16) + \",\" + ((vars[i] >> 8) & 255) + \",\" + (vars[i] & 255) + \")\";\r\n                                    break;\r\n                                case \"color\":\r\n                                    value = \"rgb(\" + (vars[i] >> 16) + \",\" + ((vars[i] >> 8) & 255) + \",\" + (vars[i] & 255) + \")\";\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    let styleName: string = i;\r\n                    switch (i) {\r\n                        case \"x\":\r\n                            styleName = \"left\";\r\n                            break;\r\n                        case \"y\":\r\n                            styleName = \"top\";\r\n                            break;\r\n                        case \"alpha\":\r\n                            styleName = \"opacity\";\r\n                            break;\r\n                        default:\r\n                            break;\r\n\r\n                    }\r\n                    element.style[styleName] = value;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n","/**\r\n * EventDispatcher (TypeScript)\r\n * - Simple extendable event dispatching class\r\n *\r\n * @version 0.1.5\r\n * @author John Vrbanac\r\n * @license MIT License\r\n **/\r\n\r\nmodule curly {\r\n    export class Event {\r\n        private _type: string;\r\n        private _target: any;\r\n        private _data: any;\r\n        private _sourceEvent: any;\r\n        private _sourceData: any;\r\n\r\n        constructor(type: string, targetObj: any, data?: any, sourceEvent?: any) {\r\n            this._type = type;\r\n            this._target = targetObj;\r\n            this._sourceEvent = sourceEvent;\r\n            this._data = data;\r\n        }\r\n\r\n        get target(): Container {\r\n            return this._target;\r\n        }\r\n\r\n        // getTarget(): any {\r\n        //     return this._target;\r\n        // }\r\n\r\n        get type(): string {\r\n            return this._type;\r\n        }\r\n\r\n        get data(): any {\r\n            return this._data;\r\n        }\r\n\r\n        get sourceEvent(): any {\r\n            return this._sourceEvent;\r\n        }\r\n\r\n        set sourceData(data:any){\r\n            this._sourceData = data;\r\n        }\r\n\r\n        get sourceData(): any {\r\n            return this._sourceData;\r\n        }\r\n    }\r\n\r\n    export class EventDispatcher {\r\n        private _listeners: any[] = [];\r\n\r\n        hasEventListener(type: string, listener: Function): Boolean {\r\n            var exists: Boolean = false;\r\n            for (var i = 0; i < this._listeners.length; i++) {\r\n                if (this._listeners[i].type === type && this._listeners[i].listener === listener) {\r\n                    exists = true;\r\n                }\r\n            }\r\n\r\n            return exists;\r\n        }\r\n\r\n        addEventListener(scope: any, typeStr: string, listenerFunc: Function, data?:any, useCapture = false, scopedEventListener: Function = undefined): void {\r\n            if (this.hasEventListener(typeStr, listenerFunc)) { \r\n                return;\r\n            }\r\n\r\n            this._listeners.push({\r\n                scope: scope,\r\n                type: typeStr,\r\n                listener: listenerFunc,\r\n                useCapture: useCapture,\r\n                scopedEventListener: scopedEventListener,\r\n                sourceData: data\r\n            });\r\n        }\r\n\r\n        removeEventListener(typeStr: string, listenerFunc: Function): {} {\r\n            let listener = this._listeners.filter(item => {\r\n                return (item.type === typeStr && item.listener.toString() === listenerFunc.toString());\r\n            });\r\n\r\n            this._listeners = this._listeners.filter(item => {\r\n                return (!(item.type === typeStr && item.listener.toString() === listenerFunc.toString()));\r\n            });\r\n\r\n            return listener[0];\r\n        }\r\n\r\n        dispatchEvent(evt: Event) {\r\n            for (var i = 0; i < this._listeners.length; i++) {\r\n                if (this._listeners[i].type === evt.type) {\r\n                    if(this._listeners[i].sourceData){\r\n                        evt.sourceData = this._listeners[i].sourceData;\r\n                    }\r\n                    this._listeners[i].listener.call(this._listeners[i].scope, evt);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"properties.ts\" />\r\n/// <reference path=\"EventDispatcher.ts\" />\r\n\r\n\r\n/**\r\n * curly.Container (TypeScript)\r\n * - Container\r\n *\r\n * @version 0.1.5\r\n * @author Gabriel McCallin\r\n * @license MIT License\r\n **/\r\n\r\n\r\nmodule curly {\r\n    export class Container extends EventDispatcher {\r\n        private _element: HTMLElement;\r\n\r\n        constructor(config?: ContainerConfig) {\r\n            super();\r\n            if (config) {\r\n\r\n                if (config.root) {\r\n                    this._element = document.createElement(\"div\");\r\n\r\n                    // recommended properties\r\n                    this._element.style.position = \"absolute\";\r\n                    this._element.style.height = \"100%\";\r\n                    this._element.style.width = \"100%\";\r\n                    this._element.style.top = \"0px\";\r\n                    this._element.style.left = \"0px\";\r\n                    this._element.style.margin = \"0px\";\r\n                    this._element.id = \"app\";\r\n                    \r\n                    document.body.appendChild(this._element);\r\n                }\r\n                else {\r\n                    if (config.type) {\r\n                        this._element = document.createElement(config.type);\r\n                    }\r\n                    else {\r\n                        this._element = document.createElement(\"div\");\r\n                    }\r\n                }\r\n                if (config.id) {\r\n                    this._element.id = config.id;\r\n                }\r\n\r\n                if (config.text) {\r\n                    this.innerHtml = config.text;\r\n                }\r\n\r\n                this.style(config.style);\r\n                this.style(config);\r\n            }\r\n            else {\r\n                this._element = document.createElement(\"div\");\r\n\r\n            }\r\n            // seen some issues with the default static\r\n            // this._element.style.position = \"relative\";\r\n        }\r\n\r\n\r\n        addToBody() {\r\n            document.body.appendChild(this._element);\r\n        }\r\n\r\n        style(vars: StyleDeclaration) {\r\n            Properties.style(this._element, vars);\r\n        }\r\n\r\n        className(...names: string[]) {\r\n            names.map((name => {\r\n                this._element.className = name;\r\n            }))\r\n        }\r\n\r\n        addChild(child: Container) {\r\n            let childElement: HTMLElement;\r\n            if (child.element) {\r\n                childElement = child.element;\r\n            }\r\n            // else {\r\n            //     childElement = <HTMLElement>child;\r\n            // }\r\n\r\n\r\n            this._element.appendChild(childElement);\r\n        }\r\n\r\n        removeChild(child: Container) {\r\n            if (this._element === child.element.parentNode) {\r\n                this._element.removeChild(child.element);\r\n            }\r\n        }\r\n\r\n        to(duration: number, vars: Object): TweenLite {\r\n            return TweenLite.to(this._element, duration, vars);\r\n        }\r\n\r\n        fromTo(duration: number, fromVars: Object, toVars: Object): TweenLite {\r\n            return TweenLite.fromTo(this._element, duration, fromVars, toVars);\r\n        }\r\n\r\n        from(duration: number, vars: Object): TweenLite {\r\n            return TweenLite.from(this._element, duration, vars);\r\n        } \r\n\r\n        addEventListener(scope: any, typeStr: string, listenerFunc: Function, data?:any, useCapture = false): void {\r\n            let that = this;\r\n            let scopedEventListener: EventListener = function (e) {\r\n                // console.log(\"captured at add\", e); \r\n                listenerFunc.apply(scope, [new curly.Event(typeStr, that, data, e)]);\r\n            };\r\n\r\n            super.addEventListener(scope, typeStr, listenerFunc, useCapture, data,  scopedEventListener);  \r\n            // add to element \r\n            if (this._element.addEventListener) {\r\n                // Firefox, Google Chrome and Safari (and Opera and Internet Explorer from\r\n                // version 9). \r\n                this._element.addEventListener(typeStr, scopedEventListener, useCapture);\r\n            } else if (this._element[\"attachEvent\"]) {\r\n                // Opera and Explorer (version < 9).\r\n                this._element[\"attachEvent\"]('on' + typeStr, scopedEventListener);\r\n\r\n                this._element[\"attachEvent\"](\"onpropertychange\", function (e: any) {\r\n                    if (e.eventType === typeStr) {\r\n                        e.cancelBubble = true;\r\n                        e.returnValue = false;\r\n                        e.data = e.customData;\r\n                        scopedEventListener(e);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        removeEventListener(typeStr: string, listenerFunc: Function): {} {\r\n            let listener: any = super.removeEventListener(typeStr, listenerFunc);\r\n\r\n            if (this._element.removeEventListener) {\r\n                // Firefox, Google Chrome and Safari (and Opera and Internet Explorer from\r\n                // version 9).\r\n                this._element.removeEventListener(typeStr, listener.scopedEventListener, listener.useCapture);\r\n                // return true;\r\n            } else if (this._element[\"detachEvent\"]) {\r\n                // Opera and Explorer (version < 9).\r\n                this._element[\"detachEvent\"]('on' + typeStr, <EventListener>listenerFunc);\r\n            }\r\n\r\n            return listener;\r\n        }\r\n\r\n        preventDefault(e) {\r\n            e.preventDefault ? e.preventDefault() : e.returnValue = false;\r\n        }\r\n\r\n        get width(): number {\r\n            return this.shadow().width;\r\n        }\r\n\r\n        set width(w: number) {\r\n            Properties.style(this._element, { width: w });\r\n        }\r\n\r\n        get height(): number {\r\n            return this.shadow().height;\r\n        }\r\n\r\n        set height(h: number) {\r\n            Properties.style(this._element, { height: h });\r\n        }\r\n\r\n        get y(): number {\r\n            return this._element.offsetTop;\r\n        }\r\n\r\n        get x(): number {\r\n            return this._element.offsetLeft;\r\n        }\r\n\r\n        set y(yPos: number) {\r\n            Properties.style(this._element, { y: yPos });\r\n        }\r\n\r\n        set x(xPos: number) {\r\n            Properties.style(this._element, { x: xPos });\r\n        }\r\n\r\n        get alpha(): number {\r\n            return parseFloat(this._element.style.opacity);\r\n        }\r\n\r\n        set alpha(value: number) {\r\n            Properties.style(this._element, { opacity: value.toString() });\r\n        }\r\n\r\n        hide() {\r\n            Properties.style(this._element, { display: \"none\" });\r\n        }\r\n\r\n        show() {\r\n            Properties.style(this._element, { display: \"block\" });\r\n        }\r\n\r\n        fillContainer() {\r\n            Properties.style(this._element, {\r\n                minWidth: \"100%\",\r\n                minHeight: \"100%\",\r\n                left: \"50%\",\r\n                top: \"50%\",\r\n                transform: \"translate(-50%, -50%)\",\r\n                position: \"relative\"\r\n            });\r\n        }\r\n\r\n        centreHorizontal() {\r\n            Properties.style(this._element, {\r\n                display: \"block\",\r\n                marginLeft: \"auto\",\r\n                marginRight: \"auto\",\r\n                position: \"relative\"\r\n            });\r\n        }\r\n\r\n        centreHorizontalText() {\r\n            Properties.style(this._element, {\r\n                textAlign: \"center\"\r\n                // width: \"100%\"\r\n            });\r\n        }\r\n\r\n        private shadow(): Dimensions {\r\n            if (!document.body.contains(this._element)) {\r\n                let parent = this._element.parentElement;\r\n                document.body.appendChild(this._element);\r\n\r\n                let dimensions = this.dimensionsPolyfill();\r\n\r\n                document.body.removeChild(this._element);\r\n\r\n                if (parent) {\r\n                    parent.appendChild(this._element);\r\n                }\r\n                else {\r\n                    document.body.removeChild(this._element);\r\n                }\r\n\r\n                return dimensions;\r\n            }\r\n            else {\r\n\r\n                return this.dimensionsPolyfill();\r\n            }\r\n\r\n        }\r\n\r\n        private dimensionsPolyfill(): curly.Dimensions {\r\n\r\n            let height = this._element.getBoundingClientRect().height;\r\n            let width = this._element.getBoundingClientRect().width;\r\n            // width = this._element.scrollWidth;\r\n            // height = this._element.scrollHeight;\r\n\r\n            if (width && height) {\r\n            }\r\n            else {\r\n                // fallback to scrollwidth and scrollheight\r\n                width = this._element.scrollWidth;\r\n                height = this._element.scrollHeight;\r\n\r\n            }\r\n\r\n            let dimensions = new Dimensions(width, height);\r\n            return dimensions;\r\n        }\r\n\r\n        get value(): string {\r\n            let inputElement = <HTMLInputElement>this._element;\r\n            return inputElement.value;\r\n        }\r\n        \r\n        set value(_value:string) {\r\n            let inputElement = <HTMLInputElement>this._element;\r\n            inputElement.value = _value; \r\n        }\r\n\r\n        get id(): string {\r\n            return this._element.id;\r\n        }\r\n\r\n        set id(identifier: string) {\r\n            this._element.id = identifier;\r\n        }\r\n\r\n        get element(): HTMLElement {\r\n            return this._element;\r\n        }\r\n\r\n        set innerHtml(html: string) {\r\n            this._element.innerHTML = html;\r\n        }\r\n\r\n        get innerHtml(): string {\r\n            return this._element.innerHTML;\r\n        }\r\n\r\n        set href(link: string) {\r\n            let element = <HTMLAnchorElement>this._element;\r\n            element.href = link;\r\n        }\r\n\r\n        get href(): string {\r\n            let element = <HTMLAnchorElement>this._element;\r\n            return element.href;\r\n        }\r\n    }\r\n\r\n} ","/// <reference path=\"Container.ts\" />\r\n\r\nmodule curly {\r\n    export class Anchor extends Container {\r\n\r\n        constructor(config:AnchorConfig) {\r\n            config.type = \"a\";\r\n            super(config);\r\n            \r\n            let element = <HTMLAnchorElement>this.element;\r\n            element.href = config.href; \r\n        }\r\n    }\r\n}","/// <reference path=\"container.ts\" />\r\nmodule curly {\r\n    export class Button extends Container {\r\n        static CLICK: string = \"click\";\r\n        private enabled: boolean;\r\n        private config: ButtonConfig;\r\n        private icon: Container;\r\n\r\n\r\n        constructor(config: ButtonConfig) {\r\n            let type: string;\r\n            if (config.href) {\r\n                type = \"a\";\r\n            }\r\n            else {\r\n                type = \"button\";\r\n            }\r\n            if (config.type) {\r\n                type = config.type;\r\n            }\r\n            super({\r\n                id: config.id,\r\n                type: type,\r\n                cursor: \"pointer\",\r\n                display: \"inline-block\"\r\n            });\r\n\r\n            this.href = config.href;\r\n            this.enabled = true;\r\n\r\n            if (config.icon && config.icon.code) {\r\n                this.icon = new Container({\r\n                    type: \"span\",\r\n                    text: config.icon.code\r\n                });\r\n            }\r\n\r\n            this.update(config);\r\n        }\r\n\r\n        update(config: ButtonConfig) {\r\n            this.config = {};\r\n            for (let i in Styles.button) {\r\n                this.config[i] = Styles.button[i];\r\n            }\r\n\r\n            if (config && config.style) {\r\n                for (let i in config.style) {\r\n                    this.config[i] = config.style[i];\r\n                }\r\n            }\r\n\r\n            for (let i in config) {\r\n                this.config[i] = config[i];\r\n            }\r\n\r\n            if (config.style) {\r\n                for (let i in config.style.icon) {\r\n                    this.config.icon[i] = config.style.icon[i];\r\n                }\r\n            }\r\n\r\n            this.innerHtml = config.text;\r\n\r\n            this.addEventListener(this, \"mouseover\", this.overWithEnable);\r\n            this.addEventListener(this, \"mouseout\", this.outWithEnable);\r\n\r\n\r\n            if (this.config.icon && this.config.icon.code) {\r\n                if (this.config.icon.align === \"left\") {\r\n                    this.icon.style({\r\n                        paddingRight: this.config.icon.padding,\r\n                    });\r\n                }\r\n                else {\r\n                    this.icon.style({\r\n                        paddingLeft: this.config.icon.padding\r\n                    });\r\n                }\r\n                this.icon.style({\r\n                    fontFamily: this.config.icon.fontFamily,\r\n                    fontSize: this.config.icon.fontSize,\r\n                    float: this.config.icon.align,\r\n                    pointerEvents: \"none\"\r\n                });\r\n\r\n                this.addChild(this.icon);\r\n\r\n                // this.icon.style({\r\n                // paddingLeft: \"0.5em\",\r\n                // paddingRight: \"0.5em\",\r\n                // });\r\n            }\r\n            //anything else in the config\r\n            this.style(this.config);\r\n\r\n        }\r\n\r\n\r\n        over() {\r\n            this.to(this.config.durationIn, {\r\n                backgroundColor: this.config.backgroundColorHover,\r\n                // backgroundColor: \"#ff0000\",\r\n                color: this.config.colorHover\r\n            });\r\n        }\r\n\r\n        out() {\r\n            this.to(this.config.durationOut, {\r\n                backgroundColor: this.config.backgroundColor,\r\n                color: this.config.color\r\n            });\r\n        }\r\n\r\n\r\n        click(e: MouseEvent) {\r\n            if (this.enabled) {\r\n                //this.out();\r\n                var event = new curly.Event(Button.CLICK, this, e);\r\n                this.dispatchEvent(event);\r\n            }\r\n        }\r\n\r\n        disable() {\r\n            this.enabled = false;\r\n            this.style({ cursor: \"default\" });\r\n        }\r\n\r\n        select() {\r\n            this.enabled = false;\r\n            this.style({ cursor: \"default\" });\r\n        }\r\n\r\n        enable() {\r\n            this.enabled = true;\r\n            this.style({ cursor: \"pointer\" });\r\n            this.out();\r\n        }\r\n\r\n\r\n        public get data(): string {\r\n            return this.config.data;\r\n        }\r\n\r\n\r\n        private overWithEnable(e) {\r\n            if (this.enabled) {\r\n                this.over();\r\n            }\r\n        }\r\n\r\n        private outWithEnable(e) {\r\n            if (this.enabled) {\r\n                this.out();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n}","/// <reference path=\"container.ts\" />\r\nmodule curly {\r\n    export class CheckBox extends Container {\r\n        static CLICK: string = \"click\";\r\n        private enabled: boolean;\r\n\r\n\r\n        constructor(config?: InputConfig) {\r\n            super({\r\n                type: \"input\"\r\n            });\r\n\r\n            let element = <HTMLInputElement>this.element;\r\n            element.type = \"checkbox\";\r\n\r\n            if (config) {\r\n                if (config.id) {\r\n                    this.id = config.id;\r\n                }\r\n                this.style(config.style);\r\n                //anything else in the config\r\n                this.style(config);\r\n\r\n                element.checked = config.checked;\r\n            }\r\n        }\r\n\r\n        get checked(): boolean {\r\n            let element = <HTMLInputElement>this.element;\r\n            return element.checked;\r\n        }\r\n    }\r\n}","module curly {\r\n    export class Dimensions {\r\n        constructor(public width: number, public height: number) {\r\n        }\r\n    } \r\n}","module curly {\r\n    export class Image extends Container {\r\n\r\n        constructor(config:ImageConfig) {\r\n            config.type = \"img\";\r\n            super(config);\r\n            \r\n            this.load(config.path);\r\n\r\n            // this.addEventListener(this, \"load\", this.loaded);\r\n            // this.addEventListener(this, \"error\", this.error);\r\n        }\r\n\r\n        load(path: string) {\r\n            this.element.setAttribute(\"src\", path);\r\n        }\r\n\r\n        // private loaded(e: Event) {\r\n        //     console.log(\"picture loaded: \", e);\r\n        // }\r\n\r\n        // private error(e: Event) {\r\n        //     console.log(\"error\");\r\n        // }\r\n    }\r\n}","module curly {\r\n    export class Observer {\r\n        private static observers = {};\r\n\r\n        static addEventListener(scope: any, type: string, callback: Function) {\r\n            if (!this.observers[type]) {\r\n                this.observers[type] = [];\r\n            }\r\n            console.log(\"ADDING OBSERVER: \", type);\r\n            this.observers[type].push({ scope: scope, type: type, callback: callback });\r\n        }\r\n\r\n\r\n        static removeEventListener(type: string, callback: Function) {\r\n            var indexOfClosureToRemove;\r\n            for (var i = 0; i < this.observers[type].length; i++) {\r\n                if (this.observers[type].callback === callback) {\r\n                    indexOfClosureToRemove = i;\r\n                    console.log(\"REMOVING OBSERVER: \", type);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.observers[type].splice(indexOfClosureToRemove, 1);\r\n        }\r\n\r\n        static dispatchEvent(evt: curly.Event) {\r\n            var type = evt.type;\r\n            if (this.observers[type]) {\r\n                for (var i = 0; i < this.observers[type].length; i++) {\r\n                    this.observers[type][i].callback.call(this.observers[type][i].scope, evt);\r\n                }\r\n            }\r\n            else {\r\n                console.log(\"DISPATCH ERROR: NO OBSERVER REGISTERED\");\r\n            }\r\n        }\r\n    }\r\n}\r\n ","/// <reference path=\"container.ts\" />\r\nmodule curly {\r\n    export class RadioButton extends Container {\r\n        static CLICK: string = \"click\";\r\n        private enabled: boolean;\r\n\r\n\r\n        constructor(config?: InputConfig) {\r\n            super({\r\n                type: \"input\"\r\n            });\r\n\r\n            let element = <HTMLInputElement>this.element;\r\n            element.type = \"radio\";\r\n\r\n            if (config) {\r\n                if (config.id) {\r\n                    this.id = config.id;\r\n                }\r\n                this.style(config.style);\r\n                //anything else in the config\r\n                this.style(config);\r\n\r\n                element.checked = config.checked;\r\n            }\r\n        }\r\n\r\n        get checked(): boolean {\r\n            let element = <HTMLInputElement>this.element;\r\n            return element.checked;\r\n        }\r\n    }\r\n}","module curly {\r\n    export class Resize {\r\n\r\n        static proportionalOutside(\r\n            objectWidth: number,\r\n            objectHeight:number,\r\n            areaWidth: number,\r\n            areaHeight: number)\r\n        {\r\n            var ratio: number = objectWidth / objectHeight;\r\n            var targetWidth: number = areaWidth;\r\n            var targetHeight: number = areaWidth / ratio;\r\n\r\n//\r\n\r\n            if (targetHeight < areaHeight) {\r\n                targetHeight = areaHeight;\r\n                targetWidth = targetHeight * ratio;\r\n            }\r\n\r\n            return { height: targetHeight, width: targetWidth };\r\n        }\r\n\r\n        static proportionalInside(\r\n            objectWidth: number,\r\n            objectHeight: number,\r\n            areaWidth: number,\r\n            areaHeight: number):Object {\r\n            var ratio: number = objectWidth / objectHeight;\r\n            var targetWidth: number = areaWidth;\r\n            var targetHeight: number = areaWidth * ratio;\r\n\r\n\r\n\r\n            if (targetHeight > areaHeight) {\r\n                targetHeight = areaHeight;\r\n                targetWidth = targetHeight * ratio;\r\n            }\r\n\r\n            return { height: targetHeight, width: targetWidth };\r\n        }\r\n    }\r\n}","module curly {\r\n    export class ResponsiveText {\r\n\r\n        static layout() {\r\n            \r\n            if(curly.Window.width > 1600){\r\n                document.body.style.fontSize = \"120%\";\r\n            }\r\n            if(curly.Window.width <= 1600 && curly.Window.width > 1000){\r\n                document.body.style.fontSize = \"110%\";\r\n            }\r\n            if(curly.Window.width <= 1000 && curly.Window.width > 780){\r\n                document.body.style.fontSize = \"100%\";\r\n            }\r\n            if(curly.Window.width <= 780 && curly.Window.width > 400){\r\n                document.body.style.fontSize = \"90%\";\r\n            }\r\n            if(curly.Window.width <= 400){\r\n                document.body.style.fontSize = \"80%\";\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"Container.ts\" />\r\n\r\nmodule curly {\r\n    export class Select extends Container {\r\n        static CHANGE = \"change\";\r\n\r\n        constructor(config: SelectConfig) {\r\n            config.type = \"select\";\r\n            super(config);\r\n\r\n            let element = <HTMLSelectElement>this.element;\r\n            if (config.name) {\r\n                element.name = config.name;\r\n            }\r\n\r\n\r\n            let options = config.options;\r\n            options.map((option) => {\r\n                let item = new curly.Container({\r\n                    text: option,\r\n                    type: \"option\"\r\n                });\r\n                this.addChild(item);\r\n            });\r\n        }\r\n\r\n        get value(): string {\r\n            let element = <HTMLSelectElement>this.element;\r\n            return element.value;\r\n\r\n        }\r\n\r\n        get selectedIndex(): number {\r\n            let element = <HTMLSelectElement>this.element;\r\n            return element.selectedIndex;\r\n            \r\n        }\r\n\r\n    }\r\n}","module curly {\r\n    export class Styles {\r\n        static button = {\r\n            fontSize: \"1.2em\",\r\n            fontFamily: \"sans-serif\",\r\n            fontWeight: \"300\",\r\n            fontColourOver: 0x333333,\r\n            fontColourOut: 0xffffff,\r\n            letterSpacing: \"0em\",\r\n            backgroundColor: \"#f1f1f1\",\r\n            backgroundColorHover: \"#dddddd\",\r\n            cornerRadius: \"0.5em\",\r\n            durationOut: 1,\r\n            durationIn: 0,\r\n            padding: \"0.5em\",\r\n            textAlign: \"left\",\r\n            whiteSpace: \"nowrap\",\r\n            msTouchAction: \"manipulation\",\r\n            touchAction: \"manipulation\",\r\n            cursor: \"pointer\",\r\n            webkitUserSelect: \"none\",\r\n            mozUserSelect: \"none\",\r\n            msUserSelect: \"none\",\r\n            userSelect: \"none\",\r\n            backgroundImage: \"none\",\r\n            border: \"1px solid transparent\",\r\n            borderColor: \"#dddddd\",\r\n            color: \"#333333\",\r\n            colorHover: \"#ffffff\",\r\n            text: \"button\"\r\n        };\r\n        static caret = {\r\n            width: \"0px\",\r\n            height: \"0px\",\r\n            borderLeftWidth: \"0.35rem\",\r\n            borderLeftStyle: \"solid\",\r\n            borderLeftColor: \"transparent\",\r\n            borderRightWidth: \"0.35rem\",\r\n            borderRightStyle: \"solid\",\r\n            borderRightColor: \"transparent\",\r\n            borderTopWidth: \"0.35rem\",\r\n            borderTopStyle: \"solid\",\r\n            borderTopColor: \"black\",\r\n            display: \"inline-block\",\r\n            verticalAlign: \"middle\",\r\n            marginLeft: \"0.35rem\"\r\n        };\r\n        static drop = {            \r\n            fontFamily: \"sans-serif\",\r\n            fontSize: \"1.2rem\",\r\n            backgroundColor: \"#ffffff\",\r\n            backgroundColorHover: \"#cccccc\",\r\n            colorHover: \"#000000\",\r\n            color: \"#000000\",\r\n            durationIn: 0,\r\n            durationOut: 0.5,\r\n            listStyle: \"none\",\r\n            zIndex: \"1000\",\r\n            position: \"absolute\",\r\n            // float: \"left\",\r\n            //!important to remove default margin on a ul\r\n            marginTop: \"0px\",\r\n            minWidth: \"5rem\",\r\n            border: \"1px solid rgba(0,0,0,.15)\",\r\n            webkitBoxShadow: \"0 6px 12px rgba(0,0,0,.175)\",\r\n            boxShadow: \"0px 6px 12px rgba(0,0,0,0.175)\",\r\n            fontWeight: \"300\",\r\n            paddingLeft: \"0px\",\r\n            durationExpand: \"0.5\",\r\n            durationContract: \"0.5\"\r\n\r\n        };\r\n    }\r\n}\r\n ","/// <reference path=\"eventdispatcher.ts\" />\r\nmodule curly {\r\n    export class URLLoader extends EventDispatcher {\r\n        static COMPLETE: string = \"COMPLETE\";\r\n        static ERROR: string = \"ERROR\";\r\n        static GET: string = \"GET\";\r\n        static PUT: string = \"PUT\";\r\n        static POST: string = \"POST\";\r\n        static UPDATE: string = \"UPDATE\";\r\n        private http: XMLHttpRequest;\r\n        \r\n        constructor(){\r\n            super();\r\n        }\r\n\r\n\r\n        load(url: string, method: string, params: any, scope: any, headers?: Array<any>, cache?: boolean) {\r\n            if (this.http) {\r\n                this.http.abort();\r\n            }\r\n            else {\r\n                this.http = new XMLHttpRequest();\r\n            }\r\n            this.http.open(method, url, true);\r\n            this.http.timeout = 20000;\r\n            //this.http.setRequestHeader('X-Requested-With', 'XMLHttpRequest');  \r\n            if (headers) {\r\n                headers.map(header => {\r\n                    this.http.setRequestHeader(header.value, header.variable);\r\n                });\r\n            }\r\n\r\n            //if (!cache) {\r\n            //    this.http.setRequestHeader(\"If-Modified-Since\", \"Sat, 01 Jan 2005 00:00:00 GMT\");\r\n            //}\r\n\r\n            this.http.onreadystatechange = this.handleResponse.bind(this);\r\n            this.http.send(params);\r\n\r\n        }\r\n\r\n        private concatParams(params: {}): string {\r\n            let queryString: string = \"?\";\r\n            for (var i in params) {\r\n                if (params.hasOwnProperty(i)) {\r\n                    queryString.concat(i, \"=\", params[i], \"&\");\r\n                }\r\n            }\r\n            queryString = queryString.slice(0, -1);\r\n            return queryString;\r\n        }\r\n\r\n        private setRequestHeader(header: any) {\r\n            this.http.setRequestHeader(header.value, header.variable);\r\n        }\r\n\r\n\r\n        private handleResponse() {\r\n            if (this.http.readyState === 4) {\r\n                if (this.http.status === 200) {\r\n                    let event: Event = new Event(URLLoader.COMPLETE, this, this.http.responseText);\r\n                    super.dispatchEvent(event);\r\n\r\n                    this.http.onreadystatechange = undefined;\r\n                }\r\n                else {\r\n                    let error: string;\r\n                    if (this.http.status === 0) {\r\n                        error = \"Network Error 0x2ee2\";\r\n                    }\r\n                    else {\r\n                        error = this.http.status.toString();\r\n                    }\r\n                    let event: Event = new Event(URLLoader.ERROR, this, this.http.status);\r\n                    super.dispatchEvent(event);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n","module curly {\r\n    export class Window {\r\n        static scrollY() {\r\n            var scrollTop = document.body.scrollTop;\r\n            if (scrollTop == 0) {\r\n                if (window.pageYOffset) {\r\n                    scrollTop = window.pageYOffset;\r\n                }\r\n                else {\r\n                    scrollTop = (document.body.parentElement) ? document.body.parentElement.scrollTop : 0;\r\n                }\r\n            }\r\n\r\n            return scrollTop;\r\n        }\r\n\r\n        static scrollX() {\r\n            var scrollLeft = document.body.scrollLeft;\r\n            if (scrollLeft == 0) {\r\n                if (window.pageXOffset) {\r\n                    scrollLeft = window.pageXOffset;\r\n                }\r\n                else {\r\n                    scrollLeft = (document.body.parentElement) ? document.body.parentElement.scrollLeft : 0;\r\n                }\r\n            }\r\n\r\n            return scrollLeft;\r\n        }\r\n\r\n        static get height() {\r\n            return window.innerHeight\r\n                || document.documentElement.clientHeight\r\n                || document.body.clientHeight;\r\n        }\r\n\r\n        static get width() {\r\n            return window.innerWidth\r\n                || document.documentElement.clientWidth\r\n                || document.body.clientWidth;\r\n        }\r\n\r\n        \r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n","/// <reference path=\"../container.ts\" />\r\nmodule curly {\r\n    export class DropDown extends Container {\r\n        static CHANGE = \"change\";\r\n        private button: Button;\r\n        private unorderedList: Container;\r\n        private scopedEventHandler: EventListener;\r\n        private items: Container[];\r\n        private dropConfig: DropConfig;\r\n\r\n\r\n        constructor(config: DropDownConfig) {\r\n            let buttonText = \"Button\";\r\n            if (config.text) {\r\n                buttonText = config.text;\r\n            }\r\n            config.text = undefined;\r\n            config.position = \"relative\";\r\n\r\n            super(config);\r\n\r\n            this.items = [];\r\n\r\n            this.button = new Button({\r\n                style: Styles.button, \r\n                display: \"inline-block\",\r\n                text: \"button\",\r\n                type: \"div\",\r\n                zIndex: \"1001\",\r\n                position: \"absolute\"\r\n            });\r\n\r\n            if (config.button) {\r\n                config.button.text = buttonText;\r\n                this.button.update(config.button);\r\n            }\r\n\r\n            this.addChild(this.button);\r\n\r\n\r\n            let caret = new curly.Container({\r\n                id: \"drop-caret\",\r\n                style: Styles.caret,\r\n                pointerEvents: \"none\"\r\n            });\r\n\r\n            if (config.caret) {\r\n                caret.style(config.caret);\r\n            }\r\n\r\n            this.button.addChild(caret);\r\n\r\n            this.button.addEventListener(this, \"mousedown\", this.buttonClicked);\r\n\r\n            this.unorderedList = new Container({\r\n                type: \"ul\",\r\n                id: this.id\r\n            });\r\n\r\n            this.dropConfig = {};\r\n\r\n            for (let i in Styles.drop) {\r\n                this.dropConfig[i] = Styles.drop[i];\r\n            }\r\n\r\n            for (let i in config.drop) {\r\n                this.dropConfig[i] = config.drop[i];\r\n            }\r\n\r\n            this.unorderedList.style(this.dropConfig);\r\n\r\n            this.addChild(this.unorderedList);\r\n\r\n            let count = 0;\r\n\r\n            config.options.map((option) => {\r\n                let item = new Container({\r\n                    id: count.toString(),\r\n                    type: \"li\"\r\n                });\r\n                this.unorderedList.addChild(item);\r\n\r\n                let anchor = new Container({\r\n                    id: count.toString(),\r\n                    type: \"a\"\r\n                });\r\n                anchor.style({\r\n                    display: \"list-item\",\r\n                    position: \"static\",\r\n                    color: this.dropConfig.color,\r\n                    paddingLeft: \"0.5em\",\r\n                    paddingRight: \"0px\",\r\n                    paddingBottom: \"0.5em\",\r\n                    paddingTop: \"0.5em\",\r\n                    cursor: \"pointer\"\r\n                });\r\n\r\n                this.items.push(item);\r\n\r\n                anchor.innerHtml = option;\r\n\r\n                anchor.addEventListener(this, \"mouseover\", this.itemOver);\r\n                anchor.addEventListener(this, \"mouseout\", this.itemOut);\r\n                anchor.addEventListener(this, \"mousedown\", this.itemClicked);\r\n\r\n                item.addChild(anchor);\r\n                count++;\r\n\r\n            });\r\n\r\n            this.unorderedList.style({\r\n                display: \"none\"\r\n            });\r\n\r\n            this.style(config);\r\n        }\r\n\r\n        private itemClicked(e: curly.Event) {\r\n            let element = e.target;\r\n\r\n            this.dispatchEvent(new curly.Event(DropDown.CHANGE, this, element.id));\r\n\r\n            TweenLite.killTweensOf(this.unorderedList.element);\r\n            this.unorderedList.alpha = 1;\r\n\r\n            this.unorderedList.to(\r\n                this.dropConfig.durationContract,\r\n                {\r\n                    delay: 0.3,\r\n                    alpha: 0,\r\n                    onComplete: this.hideList,\r\n                    onCompleteScope: this\r\n                }\r\n            )\r\n        }\r\n\r\n        itemOver(e: curly.Event) {\r\n            let element = e.target;\r\n            element.to(this.dropConfig.durationIn, {\r\n                backgroundColor: this.dropConfig.backgroundColorHover,\r\n                color: this.dropConfig.colorHover\r\n            });\r\n        }\r\n\r\n        itemOut(e: curly.Event) {\r\n            let element = e.target;\r\n            element.to(this.dropConfig.durationOut, {\r\n                backgroundColor: this.dropConfig.backgroundColor,\r\n                color: this.dropConfig.color\r\n            });\r\n        }\r\n\r\n        private buttonClicked(e: Event) {\r\n            TweenLite.killTweensOf(this.unorderedList.element);\r\n\r\n            this.unorderedList.style({\r\n                display: \"block\",\r\n                alpha: 0,\r\n                top: \"0px\"\r\n            });\r\n\r\n            this.unorderedList.to(this.dropConfig.durationExpand, { ease: Strong.easeOut, alpha: 1, top: this.button.height });\r\n            this.scopedEventHandler = (g: MouseEvent) => { this.closeDrop(g) };\r\n\r\n            // ! Don't think this will work in IE8, need attachEvent or polyfill\r\n            document.body.addEventListener(\"mousedown\", this.scopedEventHandler, true);\r\n\r\n            this.button.removeEventListener(\"mousedown\", this.buttonClicked);\r\n        }\r\n\r\n        private closeDrop(e: MouseEvent) {\r\n            // ! Don't think this will work in IE8, need attachEvent or polyfill\r\n            document.body.removeEventListener(\"mousedown\", this.scopedEventHandler, true);\r\n\r\n            TweenLite.delayedCall(0, (() => {\r\n                this.button.addEventListener(this, \"mousedown\", this.buttonClicked);\r\n            }), null, this);\r\n\r\n\r\n            this.unorderedList.to(\r\n                this.dropConfig.durationContract,\r\n                {\r\n                    alpha: 0,\r\n                    onComplete: this.hideList,\r\n                    onCompleteScope: this\r\n                }\r\n            );\r\n\r\n        }\r\n\r\n        private hideList() {\r\n            this.unorderedList.style({\r\n                display: \"none\"\r\n            });\r\n        }\r\n\r\n        disable() {\r\n            this.button.disable();\r\n            this.button.removeEventListener(Button.CLICK, this.buttonClicked);\r\n        }\r\n\r\n        enable() {\r\n            this.button.enable();\r\n            this.button.addEventListener(this, Button.CLICK, this.buttonClicked);\r\n        }\r\n\r\n    }\r\n}","module curly {\r\n    export module stateMachine {\r\n        export class StateMachine extends Container {\r\n            private currentView: State;\r\n            private config: StateMachineConfig;\r\n            private views: any = {};\r\n            private currentState: string = \"\";\r\n\r\n            constructor(config: StateMachineConfig) {\r\n                super({\r\n                    id: config.id\r\n                });\r\n                this.config = config;\r\n                this.style(config.style);\r\n                this.style(config);\r\n            }\r\n\r\n            update(state: string) {\r\n                if (state !== this.currentState) {\r\n                    if (this.config.views[state]) {\r\n                        this.currentState = state;\r\n                        let to = {\r\n                            top: \"0px\",\r\n                            left: \"0px\",\r\n                            duration: 0\r\n                        };\r\n                        let from = {\r\n                            top: \"0px\",\r\n                            left: \"0px\",\r\n                            duration: 0\r\n                        };\r\n\r\n                        for (let i in this.config.to) {\r\n                            to[i] = this.config.to[i];\r\n                        }\r\n\r\n                        for (let i in this.config.from) {\r\n                            from[i] = this.config.from[i];\r\n                        }\r\n\r\n                        if (this.currentView) {\r\n                            if (from.duration > 0) {\r\n                                this.currentView.to(from.duration, { left: from.left, top: from.top, alpha: 0, onComplete: this.removeView, onCompleteScope: this, onCompleteParams: [this.currentView] });\r\n                            }\r\n                            else {\r\n                                this.removeChild(this.currentView);\r\n                            }\r\n                        }\r\n\r\n                        if (this.views[state]) {\r\n                        }\r\n                        else {\r\n                            let view = new this.config.views[state]();\r\n                            this.views[state] = view;\r\n                        }\r\n\r\n                        this.currentView = <State>this.views[state];\r\n                        if (this.currentView.hydrate) {\r\n                            this.currentView.hydrate();\r\n                        }\r\n                        this.addChild(this.currentView);\r\n                        this.currentView.style({\r\n                            alpha: 0\r\n                        });\r\n\r\n                        if (to.duration > 0) {\r\n                            this.currentView.to(to.duration, { left: to.left, top: to.top, alpha: 1, onComplete: (view) => view.style({ display: \"block\" }), onCompleteParams: [this.currentView] });\r\n                        }\r\n                        else {\r\n                            this.currentView.style({\r\n                                opacity: \"1\",\r\n                                display: \"block\",\r\n                                top: to.top,\r\n                                left: to.left\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        console.log(\"no view defined called: \", state);\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"view already loaded: \", state);\r\n                }\r\n            }\r\n\r\n            private removeView(view: Container) {\r\n                this.removeChild(view);\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":"../../src/"}